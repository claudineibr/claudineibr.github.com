{"version":3,"sources":["hooks/useScriptRef.js","ui-component/images/ImagePanelUpload.js","views/utilities/ImageUtil.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","views/utilities/TextEditorRender.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js","services/campaignService.js","views/pages/campaign/Manager.js"],"names":["useScriptRef","scripted","useRef","useEffect","current","ImagePanelUpload","images","onChange","maxNumber","multiple","title","titleButton","renderAvatar","altImage","positionButtonHeader","theme","useTheme","matchDownSM","useMediaQuery","breakpoints","down","useState","currentImages","setCurrentImages","labelTitle","setLabelTitle","labelButton","setLabelButton","onChangeImages","imageList","renderButtonsFooterImage","index","onImageUpdate","onImageRemove","className","sx","color","green","onClick","fontSize","red","renderContentImage","container","justifyContent","alignItems","textAlign","mb","item","xs","sm","style","margin","border","borderWidth","length","alt","src","dataUrl","width","height","direction","marginTop","map","image","renderButtonAndTitle","onImageUpload","onImageRemoveAll","dragProps","spacing","marginBottom","paddingTop","fullWidth","disabled","disableElevation","size","variant","flexGrow","orientation","acceptType","value","items","dataURLKey","defaultProps","loadImages","multimedias","fetch","linkMedia","photo","ok","blob","photoBlob","reader","FileReader","onloadend","push","result","readAsDataURL","console","error","message","loadAsyncImages","setImageFunc","__assign","Object","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","this","eventPropTypes","onActivate","PropTypes","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onClearUndos","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid","onSkinLoadError","onThemeLoadError","onModelLoadError","onPluginLoadError","onIconsLoadError","onLanguageLoadError","EditorPropTypes","apiKey","id","inline","init","initialValue","onEditorChange","tagName","cloudChannel","plugins","toolbar","textareaName","tinymceScriptSrc","rollback","scriptLoading","async","defer","delay","isFunction","x","isEventProp","name","eventAttrToEventName","attrName","substr","configHandlers","editor","prevProps","props","boundHandlers","lookup","handlerLookup","on","off","adapter","prevEventKeys","keys","filter","currEventKeys","removedKeys","key","undefined","addedKeys","forEach","eventName","wrappedHandler","configHandlers2","bind","e","_a","unique","uuid","prefix","time","Date","now","Math","floor","random","String","isTextareaOrInput","element","toLowerCase","normalizePluginArray","Array","isArray","split","setMode","mode","set","createState","listeners","scriptId","scriptLoaded","ScriptLoader","state","load","doc","url","callback","scriptTagInjection","scriptTag","createElement","referrerPolicy","type","addEventListener","handler","removeEventListener","head","appendChild","injectScriptTag","fn","setTimeout","reinitialize","CreateScriptLoader","__extends","extendStatics","d","b","setPrototypeOf","__proto__","TypeError","__","constructor","create","changeEvents","_b","_c","getTinymce","Env","browser","isIE","beforeInputEvent","window","InputEvent","getTargetRanges","Editor","_super","_this","rollbackTimer","valueCursor","rollbackChange","currentContent","undoManager","ignore","setContent","hasFocus","selection","moveToBookmark","handleBeforeInput","_evt","getBookmark","handleBeforeInputSpecial","evt","handleEditorChange","initialized","newContent","getContent","handleEditorChangeSpecial","initialise","attempts","target","elementRef","elem","Node","parent_1","parentNode","ownerDocument","isConnected","isInDoc","tinymce","Error","initPlugins","inputPlugins","finalInit","selector","readonly","concat","setup","bindHandlers","once","getInitialValue","no_events","init_instance_callback","clear","add","setDirty","visibility","React","componentDidUpdate","clearTimeout","localEditor_1","transact","cursor","_i","bookmark","componentDidMount","_d","_e","_f","getScriptSrc","componentWillUnmount","remove","render","renderInline","renderIframe","ref","channel","isValueControlled","wasControlled","nowControlled","propTypes","TextEditorRender","textValue","loadBody","setTextEditor","process","imagetools_cors_hosts","fontsize_formats","block_formats","content_style","image_caption","image_advtab","contextmenu","a11y_advanced_options","convert_urls","preview_styles","textcolor_rows","line_height_formats","getGlobal","global","basePath","fetchCampaignList","page","pageSize","useCache","dispatch","getState","moreFilter","apiService","get","response","setListCampaign","postCampaign","data","_dispatch","post","then","Manager","scriptedRef","editorRef","useDispatch","location","useLocation","navigate","useNavigate","useSelector","campaign","currentCampaign","setCurrentCampaign","tab","setTab","checked","setChecked","setImages","textEditor","errors","setErrors","setImagesDownload","imageToSet","oldValue","setValue","handleValidate","keysValidate","includes","setMessage","replace","trim","code","find","linkImageEmphasis","active","newState","downloadImages","catch","handlePostData","postData","linkHtml","imagesPost","action","actionButton","closeDialog","buttons","bgcolor","borderColor","borderBottom","textColor","indicatorColor","_event","newValue","scrollButtons","label","initialValues","_values","_","setStatus","setSubmitting","success","handleSubmit","isSubmitting","noValidate","control","event","Boolean","typography","customInput","required","inputProps","maxLength","startDate","formatDate","ISODateFormat","endDate","resume","startsWith","mt","list"],"mappings":"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","file":"static/js/8.6dfb6224.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react';\n\n// ==============================|| ELEMENT REFERENCE HOOKS  ||============================== //\n\nconst useScriptRef = () => {\n    const scripted = useRef(true);\n\n    useEffect(\n        () => () => {\n            scripted.current = false;\n        },\n        []\n    );\n\n    return scripted;\n};\n\nexport default useScriptRef;\n","import { Avatar, Button, Divider, Grid, InputLabel, Stack, useMediaQuery } from '@mui/material';\r\nimport AnimateButton from '../extended/AnimateButton';\r\nimport ImageUploading from 'react-images-uploading';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { useEffect, useState } from 'react';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { green, red } from '@mui/material/colors';\r\nimport DeleteForever from '@mui/icons-material/DeleteForever';\r\nimport Cached from '@mui/icons-material/Cached';\r\n\r\nfunction ImagePanelUpload({\r\n    images,\r\n    onChange,\r\n    maxNumber = 8,\r\n    multiple = true,\r\n    title = null,\r\n    titleButton = null,\r\n    renderAvatar = false,\r\n    altImage = null,\r\n    positionButtonHeader = true\r\n}) {\r\n    const theme = useTheme();\r\n    const matchDownSM = useMediaQuery(theme.breakpoints.down('md'));\r\n    const [currentImages, setCurrentImages] = useState([]);\r\n    const [labelTitle, setLabelTitle] = useState(null);\r\n    const [labelButton, setLabelButton] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setLabelTitle(title);\r\n        setLabelButton(titleButton);\r\n        setCurrentImages(images);\r\n        return () => setCurrentImages([]);\r\n    }, [images]);\r\n\r\n    function onChangeImages(imageList) {\r\n        setCurrentImages(imageList);\r\n        onChange(imageList);\r\n    }\r\n\r\n    function getTitle() {\r\n        if (labelTitle == null) {\r\n            return (\r\n                <span>\r\n                    Somente imagens no formato <strong>.jpg</strong>\r\n                </span>\r\n            );\r\n        }\r\n        return <span>{labelTitle}</span>;\r\n    }\r\n    function getTitleButton() {\r\n        if (labelButton == null) {\r\n            return <>Importar</>;\r\n        }\r\n        return <>{labelButton}</>;\r\n    }\r\n\r\n    function renderButtonsFooterImage(index, onImageUpdate, onImageRemove) {\r\n        return (\r\n            <div className=\"image-item__btn-wrapper\">\r\n                <IconButton sx={{ color: green[500] }} onClick={() => onImageUpdate(index)} aria-label=\"Atualizar\">\r\n                    <Cached sx={{ fontSize: 26 }} />\r\n                </IconButton>\r\n                <IconButton sx={{ color: red[500] }} onClick={() => onImageRemove(index)} aria-label=\"Remover\">\r\n                    <DeleteForever sx={{ fontSize: 26 }} />\r\n                </IconButton>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    function renderContentImage(imageList, onImageUpdate, onImageRemove) {\r\n        if (renderAvatar && !multiple) {\r\n            return (\r\n                <Grid container justifyContent=\"center\" alignItems=\"center\" textAlign=\"center\" sx={{ mb: 4 }}>\r\n                    <Grid item xs={12} sm={12}>\r\n                        <div style={{ margin: 'auto', border: 1, borderWidth: 1 }}>\r\n                            {imageList !== null && imageList.length > 0 ? (\r\n                                <>\r\n                                    <Avatar alt={altImage} src={imageList[0].dataUrl} sx={{ width: 100, height: 100, margin: 'auto' }} />\r\n                                    {renderButtonsFooterImage(0, onImageUpdate, onImageRemove)}\r\n                                </>\r\n                            ) : (\r\n                                <Avatar alt={altImage} src={null} sx={{ width: 100, height: 100, margin: 'auto' }} />\r\n                            )}\r\n                        </div>\r\n                    </Grid>\r\n                </Grid>\r\n            );\r\n        }\r\n        return (\r\n            <Grid container direction=\"row\" marginTop={2}>\r\n                {imageList !== null &&\r\n                    imageList?.map((image, index) => (\r\n                        <Grid key={`iamge_item_${index}`} item xs={4} sm={4} textAlign=\"center\">\r\n                            <img src={image.dataUrl} alt=\"\" width=\"300\" height=\"180\" />\r\n                            {renderButtonsFooterImage(index, onImageUpdate, onImageRemove)}\r\n                        </Grid>\r\n                    ))}\r\n            </Grid>\r\n        );\r\n    }\r\n\r\n    function renderButtonAndTitle(onImageUpload, onImageRemoveAll, dragProps, imageList) {\r\n        if (renderAvatar && imageList.length > 0) {\r\n            return null;\r\n        }\r\n        return (\r\n            <>\r\n                <Grid container alignItems=\"center\" justifyContent=\"center\" spacing={matchDownSM ? 0 : 2}>\r\n                    <Grid\r\n                        item\r\n                        textAlign=\"center\"\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"center\"\r\n                        xs={12}\r\n                        sm={12}\r\n                        marginBottom={1}\r\n                        style={{ paddingTop: 0 }}\r\n                    >\r\n                        <span>{getTitle()}</span>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container alignItems=\"center\" justifyContent=\"center\" spacing={matchDownSM ? 0 : 2}>\r\n                    <Grid item xs={12} sm={renderAvatar && !multiple ? 6 : 2}>\r\n                        <AnimateButton>\r\n                            <Button\r\n                                fullWidth\r\n                                disabled={currentImages.length === maxNumber}\r\n                                disableElevation\r\n                                size=\"small\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={onImageUpload}\r\n                                {...dragProps}\r\n                            >\r\n                                {getTitleButton()}\r\n                            </Button>\r\n                        </AnimateButton>\r\n                    </Grid>\r\n                    {multiple && (\r\n                        <Grid item xs={12} sm={2}>\r\n                            <AnimateButton>\r\n                                <Button\r\n                                    fullWidth\r\n                                    disableElevation\r\n                                    size=\"small\"\r\n                                    variant=\"contained\"\r\n                                    color=\"secondary\"\r\n                                    onClick={onImageRemoveAll}\r\n                                >\r\n                                    Remover todas\r\n                                </Button>\r\n                            </AnimateButton>\r\n                        </Grid>\r\n                    )}\r\n                    <Grid item xs={12} sm={12}>\r\n                        <Divider sx={{ flexGrow: 1 }} orientation=\"horizontal\" />\r\n                    </Grid>\r\n                </Grid>\r\n            </>\r\n        );\r\n    }\r\n    return (\r\n        <ImageUploading\r\n            multiple={multiple}\r\n            acceptType={['jpg']}\r\n            value={currentImages || []}\r\n            onChange={(items) => onChangeImages(items)}\r\n            maxNumber={maxNumber}\r\n            dataURLKey=\"dataUrl\"\r\n        >\r\n            {({ imageList, onImageUpload, onImageRemoveAll, onImageUpdate, onImageRemove, dragProps }) => (\r\n                <Grid>\r\n                    {positionButtonHeader && renderButtonAndTitle(onImageUpload, onImageRemoveAll, dragProps, imageList)}\r\n                    {renderContentImage(imageList, onImageUpdate, onImageRemove)}\r\n                    {!positionButtonHeader && renderButtonAndTitle(onImageUpload, onImageRemoveAll, dragProps, imageList)}\r\n                </Grid>\r\n            )}\r\n        </ImageUploading>\r\n    );\r\n}\r\n\r\nImagePanelUpload.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            dataUrl: PropTypes.string\r\n        })\r\n    ),\r\n    dataUrl: PropTypes.string,\r\n    imageList: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            dataURL: PropTypes.string,\r\n            file: PropTypes.object\r\n        })\r\n    ),\r\n    onChange: PropTypes.func,\r\n    setImages: PropTypes.func,\r\n    maxNumber: PropTypes.number,\r\n    multiple: PropTypes.bool\r\n};\r\n\r\nImagePanelUpload.defaultProps = {\r\n    maxNumber: 8\r\n};\r\n\r\nexport default ImagePanelUpload;\r\n","export default async function loadImages(multimedias) {\r\n    const images = [];\r\n    if (multimedias != null) {\r\n        await multimedias.map(async (item) => {\r\n            try {\r\n                const photo = await fetch(item.linkMedia);\r\n                if (photo.ok) {\r\n                    const photoBlob = await photo.blob();\r\n                    const reader = new FileReader();\r\n                    reader.onloadend = () => {\r\n                        images.push({ dataUrl: reader.result });\r\n                    };\r\n                    reader.readAsDataURL(photoBlob);\r\n                }\r\n            } catch (e) {\r\n                console.error(`Error download image: ${e.message} - ${item.linkMedia}`);\r\n            }\r\n            return images;\r\n        });\r\n    }\r\n    return images;\r\n}\r\n\r\nexport async function loadAsyncImages(multimedias, setImageFunc) {\r\n    if (multimedias != null) {\r\n        await multimedias.map(async (item) => {\r\n            try {\r\n                const photo = await fetch(item.linkMedia);\r\n                if (photo.ok) {\r\n                    const photoBlob = await photo.blob();\r\n                    const reader = new FileReader();\r\n                    reader.onloadend = () => {\r\n                        if (reader.result != null) {\r\n                            setImageFunc({ dataUrl: reader.result });\r\n                        }\r\n                    };\r\n                    reader.readAsDataURL(photoBlob);\r\n                }\r\n            } catch (e) {\r\n                console.error(`Error download async image: ${e.message} - ${item.linkMedia}`);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n    onActivate: PropTypes.func,\n    onAddUndo: PropTypes.func,\n    onBeforeAddUndo: PropTypes.func,\n    onBeforeExecCommand: PropTypes.func,\n    onBeforeGetContent: PropTypes.func,\n    onBeforeRenderUI: PropTypes.func,\n    onBeforeSetContent: PropTypes.func,\n    onBeforePaste: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onClearUndos: PropTypes.func,\n    onClick: PropTypes.func,\n    onContextMenu: PropTypes.func,\n    onCopy: PropTypes.func,\n    onCut: PropTypes.func,\n    onDblclick: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onDirty: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragDrop: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onDragGesture: PropTypes.func,\n    onDragOver: PropTypes.func,\n    onDrop: PropTypes.func,\n    onExecCommand: PropTypes.func,\n    onFocus: PropTypes.func,\n    onFocusIn: PropTypes.func,\n    onFocusOut: PropTypes.func,\n    onGetContent: PropTypes.func,\n    onHide: PropTypes.func,\n    onInit: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyPress: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    onLoadContent: PropTypes.func,\n    onMouseDown: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseUp: PropTypes.func,\n    onNodeChange: PropTypes.func,\n    onObjectResizeStart: PropTypes.func,\n    onObjectResized: PropTypes.func,\n    onObjectSelected: PropTypes.func,\n    onPaste: PropTypes.func,\n    onPostProcess: PropTypes.func,\n    onPostRender: PropTypes.func,\n    onPreProcess: PropTypes.func,\n    onProgressState: PropTypes.func,\n    onRedo: PropTypes.func,\n    onRemove: PropTypes.func,\n    onReset: PropTypes.func,\n    onSaveContent: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onSetAttrib: PropTypes.func,\n    onSetContent: PropTypes.func,\n    onShow: PropTypes.func,\n    onSubmit: PropTypes.func,\n    onUndo: PropTypes.func,\n    onVisualAid: PropTypes.func,\n    onSkinLoadError: PropTypes.func,\n    onThemeLoadError: PropTypes.func,\n    onModelLoadError: PropTypes.func,\n    onPluginLoadError: PropTypes.func,\n    onIconsLoadError: PropTypes.func,\n    onLanguageLoadError: PropTypes.func,\n};\nexport var EditorPropTypes = __assign({ apiKey: PropTypes.string, id: PropTypes.string, inline: PropTypes.bool, init: PropTypes.object, initialValue: PropTypes.string, onEditorChange: PropTypes.func, value: PropTypes.string, tagName: PropTypes.string, cloudChannel: PropTypes.string, plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), disabled: PropTypes.bool, textareaName: PropTypes.string, tinymceScriptSrc: PropTypes.string, rollback: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([false])]), scriptLoading: PropTypes.shape({\n        async: PropTypes.bool,\n        defer: PropTypes.bool,\n        delay: PropTypes.number\n    }) }, eventPropTypes);\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function (x) { return typeof x === 'function'; };\nvar isEventProp = function (name) { return name in eventPropTypes; };\nvar eventAttrToEventName = function (attrName) { return attrName.substr(2); };\nexport var configHandlers2 = function (handlerLookup, on, off, adapter, prevProps, props, boundHandlers) {\n    var prevEventKeys = Object.keys(prevProps).filter(isEventProp);\n    var currEventKeys = Object.keys(props).filter(isEventProp);\n    var removedKeys = prevEventKeys.filter(function (key) { return props[key] === undefined; });\n    var addedKeys = currEventKeys.filter(function (key) { return prevProps[key] === undefined; });\n    removedKeys.forEach(function (key) {\n        // remove event handler\n        var eventName = eventAttrToEventName(key);\n        var wrappedHandler = boundHandlers[eventName];\n        off(eventName, wrappedHandler);\n        delete boundHandlers[eventName];\n    });\n    addedKeys.forEach(function (key) {\n        var wrappedHandler = adapter(handlerLookup, key);\n        var eventName = eventAttrToEventName(key);\n        boundHandlers[eventName] = wrappedHandler;\n        on(eventName, wrappedHandler);\n    });\n};\nexport var configHandlers = function (editor, prevProps, props, boundHandlers, lookup) {\n    return configHandlers2(lookup, editor.on.bind(editor), editor.off.bind(editor), \n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    function (handlerLookup, key) { return function (e) { var _a; return (_a = handlerLookup(key)) === null || _a === void 0 ? void 0 : _a(e, editor); }; }, prevProps, props, boundHandlers);\n};\nvar unique = 0;\nexport var uuid = function (prefix) {\n    var time = Date.now();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n};\nexport var isTextareaOrInput = function (element) {\n    return element !== null && (element.tagName.toLowerCase() === 'textarea' || element.tagName.toLowerCase() === 'input');\n};\nvar normalizePluginArray = function (plugins) {\n    if (typeof plugins === 'undefined' || plugins === '') {\n        return [];\n    }\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\n// eslint-disable-next-line max-len\nexport var mergePlugins = function (initPlugins, inputPlugins) { return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins)); };\nexport var isBeforeInputEventAvailable = function () { return window.InputEvent && typeof InputEvent.prototype.getTargetRanges === 'function'; };\nexport var isInDoc = function (elem) {\n    if (!('isConnected' in Node.prototype)) {\n        // Fallback for IE and old Edge\n        var current = elem;\n        var parent_1 = elem.parentNode;\n        while (parent_1 != null) {\n            current = parent_1;\n            parent_1 = current.parentNode;\n        }\n        return current === elem.ownerDocument;\n    }\n    return elem.isConnected;\n};\nexport var setMode = function (editor, mode) {\n    if (editor !== undefined) {\n        if (editor.mode != null && typeof editor.mode === 'object' && typeof editor.mode.set === 'function') {\n            editor.mode.set(mode);\n        }\n        else { // support TinyMCE 4\n            editor.setMode(mode);\n        }\n    }\n};\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { uuid } from './Utils';\nvar createState = function () { return ({\n    listeners: [],\n    scriptId: uuid('tiny-script'),\n    scriptLoading: false,\n    scriptLoaded: false\n}); };\nvar CreateScriptLoader = function () {\n    var state = createState();\n    var injectScriptTag = function (scriptId, doc, url, async, defer, callback) {\n        var scriptTag = doc.createElement('script');\n        scriptTag.referrerPolicy = 'origin';\n        scriptTag.type = 'application/javascript';\n        scriptTag.id = scriptId;\n        scriptTag.src = url;\n        scriptTag.async = async;\n        scriptTag.defer = defer;\n        var handler = function () {\n            scriptTag.removeEventListener('load', handler);\n            callback();\n        };\n        scriptTag.addEventListener('load', handler);\n        if (doc.head) {\n            doc.head.appendChild(scriptTag);\n        }\n    };\n    var load = function (doc, url, async, defer, delay, callback) {\n        var scriptTagInjection = function () { return injectScriptTag(state.scriptId, doc, url, async, defer, function () {\n            state.listeners.forEach(function (fn) { return fn(); });\n            state.scriptLoaded = true;\n        }); };\n        if (state.scriptLoaded) {\n            callback();\n        }\n        else {\n            state.listeners.push(callback);\n            if (!state.scriptLoading) {\n                state.scriptLoading = true;\n                if (delay > 0) {\n                    setTimeout(scriptTagInjection, delay);\n                }\n                else {\n                    scriptTagInjection();\n                }\n            }\n        }\n    };\n    // Only to be used by tests.\n    var reinitialize = function () {\n        state = createState();\n    };\n    return {\n        load: load,\n        reinitialize: reinitialize\n    };\n};\nvar ScriptLoader = CreateScriptLoader();\nexport { ScriptLoader };\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ScriptLoader } from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { isFunction, isTextareaOrInput, mergePlugins, uuid, configHandlers, isBeforeInputEventAvailable, isInDoc, setMode } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\nvar changeEvents = function () { var _a, _b, _c; return ((_c = (_b = (_a = getTinymce()) === null || _a === void 0 ? void 0 : _a.Env) === null || _b === void 0 ? void 0 : _b.browser) === null || _c === void 0 ? void 0 : _c.isIE()) ? 'change keyup compositionend setcontent' : 'change input compositionend setcontent'; };\nvar beforeInputEvent = function () { return isBeforeInputEventAvailable() ? 'beforeinput SelectionChange' : 'SelectionChange'; };\nvar Editor = /** @class */ (function (_super) {\n    __extends(Editor, _super);\n    function Editor(props) {\n        var _this = this;\n        var _a, _b, _c;\n        _this = _super.call(this, props) || this;\n        _this.rollbackTimer = undefined;\n        _this.valueCursor = undefined;\n        _this.rollbackChange = function () {\n            var editor = _this.editor;\n            var value = _this.props.value;\n            if (editor && value && value !== _this.currentContent) {\n                editor.undoManager.ignore(function () {\n                    editor.setContent(value);\n                    // only restore cursor on inline editors when they are focused\n                    // as otherwise it will cause a focus grab\n                    if (_this.valueCursor && (!_this.inline || editor.hasFocus())) {\n                        try {\n                            editor.selection.moveToBookmark(_this.valueCursor);\n                        }\n                        catch (e) { /* ignore */ }\n                    }\n                });\n            }\n            _this.rollbackTimer = undefined;\n        };\n        _this.handleBeforeInput = function (_evt) {\n            if (_this.props.value !== undefined && _this.props.value === _this.currentContent && _this.editor) {\n                if (!_this.inline || _this.editor.hasFocus) {\n                    try {\n                        // getBookmark throws exceptions when the editor has not been focused\n                        // possibly only in inline mode but I'm not taking chances\n                        _this.valueCursor = _this.editor.selection.getBookmark(3);\n                    }\n                    catch (e) { /* ignore */ }\n                }\n            }\n        };\n        _this.handleBeforeInputSpecial = function (evt) {\n            if (evt.key === 'Enter' || evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleBeforeInput(evt);\n            }\n        };\n        _this.handleEditorChange = function (_evt) {\n            var editor = _this.editor;\n            if (editor && editor.initialized) {\n                var newContent = editor.getContent();\n                if (_this.props.value !== undefined && _this.props.value !== newContent && _this.props.rollback !== false) {\n                    // start a timer and revert to the value if not applied in time\n                    if (!_this.rollbackTimer) {\n                        _this.rollbackTimer = window.setTimeout(_this.rollbackChange, typeof _this.props.rollback === 'number' ? _this.props.rollback : 200);\n                    }\n                }\n                if (newContent !== _this.currentContent) {\n                    _this.currentContent = newContent;\n                    if (isFunction(_this.props.onEditorChange)) {\n                        _this.props.onEditorChange(newContent, editor);\n                    }\n                }\n            }\n        };\n        _this.handleEditorChangeSpecial = function (evt) {\n            if (evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleEditorChange(evt);\n            }\n        };\n        _this.initialise = function (attempts) {\n            var _a, _b, _c;\n            if (attempts === void 0) { attempts = 0; }\n            var target = _this.elementRef.current;\n            if (!target) {\n                return; // Editor has been unmounted\n            }\n            if (!isInDoc(target)) {\n                // this is probably someone trying to help by rendering us offscreen\n                // but we can't do that because the editor iframe must be in the document\n                // in order to have state\n                if (attempts === 0) {\n                    // we probably just need to wait for the current events to be processed\n                    setTimeout(function () { return _this.initialise(1); }, 1);\n                }\n                else if (attempts < 100) {\n                    // wait for ten seconds, polling every tenth of a second\n                    setTimeout(function () { return _this.initialise(attempts + 1); }, 100);\n                }\n                else {\n                    // give up, at this point it seems that more polling is unlikely to help\n                    throw new Error('tinymce can only be initialised when in a document');\n                }\n                return;\n            }\n            var tinymce = getTinymce();\n            if (!tinymce) {\n                throw new Error('tinymce should have been loaded into global scope');\n            }\n            var finalInit = __assign(__assign({}, _this.props.init), { selector: undefined, target: target, readonly: _this.props.disabled, inline: _this.inline, plugins: mergePlugins((_a = _this.props.init) === null || _a === void 0 ? void 0 : _a.plugins, _this.props.plugins), toolbar: (_b = _this.props.toolbar) !== null && _b !== void 0 ? _b : (_c = _this.props.init) === null || _c === void 0 ? void 0 : _c.toolbar, setup: function (editor) {\n                    _this.editor = editor;\n                    _this.bindHandlers({});\n                    // When running in inline mode the editor gets the initial value\n                    // from the innerHTML of the element it is initialized on.\n                    // However we don't want to take on the responsibility of sanitizing\n                    // to remove XSS in the react integration so we have a chicken and egg\n                    // problem... We avoid it by sneaking in a set content before the first\n                    // \"official\" setContent and using TinyMCE to do the sanitization.\n                    if (_this.inline && !isTextareaOrInput(target)) {\n                        editor.once('PostRender', function (_evt) {\n                            editor.setContent(_this.getInitialValue(), { no_events: true });\n                        });\n                    }\n                    if (_this.props.init && isFunction(_this.props.init.setup)) {\n                        _this.props.init.setup(editor);\n                    }\n                }, init_instance_callback: function (editor) {\n                    var _a, _b;\n                    // check for changes that happened since tinymce.init() was called\n                    var initialValue = _this.getInitialValue();\n                    _this.currentContent = (_a = _this.currentContent) !== null && _a !== void 0 ? _a : editor.getContent();\n                    if (_this.currentContent !== initialValue) {\n                        _this.currentContent = initialValue;\n                        // same as resetContent in TinyMCE 5\n                        editor.setContent(initialValue);\n                        editor.undoManager.clear();\n                        editor.undoManager.add();\n                        editor.setDirty(false);\n                    }\n                    var disabled = (_b = _this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(_this.editor, disabled ? 'readonly' : 'design');\n                    // ensure existing init_instance_callback is called\n                    if (_this.props.init && isFunction(_this.props.init.init_instance_callback)) {\n                        _this.props.init.init_instance_callback(editor);\n                    }\n                } });\n            if (!_this.inline) {\n                target.style.visibility = '';\n            }\n            if (isTextareaOrInput(target)) {\n                target.value = _this.getInitialValue();\n            }\n            tinymce.init(finalInit);\n        };\n        _this.id = _this.props.id || uuid('tiny-react');\n        _this.elementRef = React.createRef();\n        _this.inline = (_c = (_a = _this.props.inline) !== null && _a !== void 0 ? _a : (_b = _this.props.init) === null || _b === void 0 ? void 0 : _b.inline) !== null && _c !== void 0 ? _c : false;\n        _this.boundHandlers = {};\n        return _this;\n    }\n    Editor.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var _a, _b;\n        if (this.rollbackTimer) {\n            clearTimeout(this.rollbackTimer);\n            this.rollbackTimer = undefined;\n        }\n        if (this.editor) {\n            this.bindHandlers(prevProps);\n            if (this.editor.initialized) {\n                this.currentContent = (_a = this.currentContent) !== null && _a !== void 0 ? _a : this.editor.getContent();\n                if (typeof this.props.initialValue === 'string' && this.props.initialValue !== prevProps.initialValue) {\n                    // same as resetContent in TinyMCE 5\n                    this.editor.setContent(this.props.initialValue);\n                    this.editor.undoManager.clear();\n                    this.editor.undoManager.add();\n                    this.editor.setDirty(false);\n                }\n                else if (typeof this.props.value === 'string' && this.props.value !== this.currentContent) {\n                    var localEditor_1 = this.editor;\n                    localEditor_1.undoManager.transact(function () {\n                        // inline editors grab focus when restoring selection\n                        // so we don't try to keep their selection unless they are currently focused\n                        var cursor;\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            try {\n                                // getBookmark throws exceptions when the editor has not been focused\n                                // possibly only in inline mode but I'm not taking chances\n                                cursor = localEditor_1.selection.getBookmark(3);\n                            }\n                            catch (e) { /* ignore */ }\n                        }\n                        var valueCursor = _this.valueCursor;\n                        localEditor_1.setContent(_this.props.value);\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            for (var _i = 0, _a = [cursor, valueCursor]; _i < _a.length; _i++) {\n                                var bookmark = _a[_i];\n                                if (bookmark) {\n                                    try {\n                                        localEditor_1.selection.moveToBookmark(bookmark);\n                                        _this.valueCursor = bookmark;\n                                        break;\n                                    }\n                                    catch (e) { /* ignore */ }\n                                }\n                            }\n                        }\n                    });\n                }\n                if (this.props.disabled !== prevProps.disabled) {\n                    var disabled = (_b = this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(this.editor, disabled ? 'readonly' : 'design');\n                }\n            }\n        }\n    };\n    Editor.prototype.componentDidMount = function () {\n        var _a, _b, _c, _d, _e, _f;\n        if (getTinymce() !== null) {\n            this.initialise();\n        }\n        else if (this.elementRef.current && this.elementRef.current.ownerDocument) {\n            ScriptLoader.load(this.elementRef.current.ownerDocument, this.getScriptSrc(), (_b = (_a = this.props.scriptLoading) === null || _a === void 0 ? void 0 : _a.async) !== null && _b !== void 0 ? _b : false, (_d = (_c = this.props.scriptLoading) === null || _c === void 0 ? void 0 : _c.defer) !== null && _d !== void 0 ? _d : false, (_f = (_e = this.props.scriptLoading) === null || _e === void 0 ? void 0 : _e.delay) !== null && _f !== void 0 ? _f : 0, this.initialise);\n        }\n    };\n    Editor.prototype.componentWillUnmount = function () {\n        var _this = this;\n        var editor = this.editor;\n        if (editor) {\n            editor.off(changeEvents(), this.handleEditorChange);\n            editor.off(beforeInputEvent(), this.handleBeforeInput);\n            editor.off('keypress', this.handleEditorChangeSpecial);\n            editor.off('keydown', this.handleBeforeInputSpecial);\n            editor.off('NewBlock', this.handleEditorChange);\n            Object.keys(this.boundHandlers).forEach(function (eventName) {\n                editor.off(eventName, _this.boundHandlers[eventName]);\n            });\n            this.boundHandlers = {};\n            editor.remove();\n            this.editor = undefined;\n        }\n    };\n    Editor.prototype.render = function () {\n        return this.inline ? this.renderInline() : this.renderIframe();\n    };\n    Editor.prototype.renderInline = function () {\n        var _a = this.props.tagName, tagName = _a === void 0 ? 'div' : _a;\n        return React.createElement(tagName, {\n            ref: this.elementRef,\n            id: this.id\n        });\n    };\n    Editor.prototype.renderIframe = function () {\n        return React.createElement('textarea', {\n            ref: this.elementRef,\n            style: { visibility: 'hidden' },\n            name: this.props.textareaName,\n            id: this.id\n        });\n    };\n    Editor.prototype.getScriptSrc = function () {\n        if (typeof this.props.tinymceScriptSrc === 'string') {\n            return this.props.tinymceScriptSrc;\n        }\n        else {\n            var channel = this.props.cloudChannel;\n            var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n            return \"https://cdn.tiny.cloud/1/\".concat(apiKey, \"/tinymce/\").concat(channel, \"/tinymce.min.js\");\n        }\n    };\n    Editor.prototype.getInitialValue = function () {\n        if (typeof this.props.initialValue === 'string') {\n            return this.props.initialValue;\n        }\n        else if (typeof this.props.value === 'string') {\n            return this.props.value;\n        }\n        else {\n            return '';\n        }\n    };\n    Editor.prototype.bindHandlers = function (prevProps) {\n        var _this = this;\n        if (this.editor !== undefined) {\n            // typescript chokes trying to understand the type of the lookup function\n            configHandlers(this.editor, prevProps, this.props, this.boundHandlers, function (key) { return _this.props[key]; });\n            // check if we should monitor editor changes\n            var isValueControlled = function (p) { return p.onEditorChange !== undefined || p.value !== undefined; };\n            var wasControlled = isValueControlled(prevProps);\n            var nowControlled = isValueControlled(this.props);\n            if (!wasControlled && nowControlled) {\n                this.editor.on(changeEvents(), this.handleEditorChange);\n                this.editor.on(beforeInputEvent(), this.handleBeforeInput);\n                this.editor.on('keydown', this.handleBeforeInputSpecial);\n                this.editor.on('keyup', this.handleEditorChangeSpecial);\n                this.editor.on('NewBlock', this.handleEditorChange);\n            }\n            else if (wasControlled && !nowControlled) {\n                this.editor.off(changeEvents(), this.handleEditorChange);\n                this.editor.off(beforeInputEvent(), this.handleBeforeInput);\n                this.editor.off('keydown', this.handleBeforeInputSpecial);\n                this.editor.off('keyup', this.handleEditorChangeSpecial);\n                this.editor.off('NewBlock', this.handleEditorChange);\n            }\n        }\n    };\n    Editor.propTypes = EditorPropTypes;\n    Editor.defaultProps = {\n        cloudChannel: '6'\n    };\n    return Editor;\n}(React.Component));\nexport { Editor };\n","import { Editor } from '@tinymce/tinymce-react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction TextEditorRender({ textValue, loadBody, setTextEditor }) {\r\n    return (\r\n        <Editor\r\n            value={textValue}\r\n            onInit={(_evt, editor) => loadBody(editor)}\r\n            onEditorChange={(value) => {\r\n                setTextEditor(value);\r\n            }}\r\n            apiKey={process.env.REACT_APP_TINY_MCE_API_KEY}\r\n            init={{\r\n                height: 500,\r\n                plugins:\r\n                    'print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars ' +\r\n                    'fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime ' +\r\n                    'advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons visualblocks',\r\n                imagetools_cors_hosts: ['picsum.photos'],\r\n                toolbar:\r\n                    'bold italic underline strikethrough | fontselect fontsizeselect forecolor formatselect | alignleft aligncenter alignright alignjustify lineheight| ' +\r\n                    'outdent indent | numlist bullist | insertfile image media link | fullscreen  preview print |emoticons',\r\n                fontsize_formats: '8pt 10pt 11pt 12pt 14pt 18pt 24pt',\r\n                block_formats: 'Bloco=div;Paragrafo=p;Header 1=h1;Header 2=h2;Header 3=h3;Preformatted=pre',\r\n                content_style: 'body { font-family:Arial,Helvetica,sans-serif; font-size:14pt }',\r\n                image_caption: true,\r\n                image_advtab: true,\r\n                contextmenu: 'link image imagetools table configurepermanentpen',\r\n                a11y_advanced_options: true,\r\n                convert_urls: true,\r\n                preview_styles: false,\r\n                textcolor_rows: '4',\r\n                line_height_formats: '1 1.1 1.2 1.5'\r\n            }}\r\n        />\r\n    );\r\n}\r\n\r\nTextEditorRender.propTypes = {\r\n    textValue: PropTypes.string,\r\n    loadBody: PropTypes.func,\r\n    setTextEditor: PropTypes.func\r\n};\r\n\r\nexport default TextEditorRender;\r\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar getGlobal = function () { return (typeof window !== 'undefined' ? window : global); };\nvar getTinymce = function () {\n    var global = getGlobal();\n    return global && global.tinymce ? global.tinymce : null;\n};\nexport { getTinymce };\n","import apiService from './apiService';\r\nimport { setListCampaign } from 'store/reducers/campaignReducer';\r\n\r\nconst basePath = '/api/v1/campaign';\r\n\r\n/**\r\n * Fetch to campaign data\r\n * @async\r\n * @function\r\n * @return {Promise<JSON>} Object campaign data\r\n */\r\nexport function fetchCampaignList({ page = 1, pageSize = 50, useCache = false }) {\r\n    return async function fetchCampaignThunk(dispatch, getState) {\r\n        const moreFilter = `&useCache=${useCache}`;\r\n        try {\r\n            const url = `${basePath}/filter?pageSize=${pageSize}&page=${page}${moreFilter}`;\r\n            const response = await apiService(getState()).get(url);\r\n            await dispatch(setListCampaign(response));\r\n            return response;\r\n        } catch (ex) {\r\n            console.error('Error Fetch Campaign', ex.message);\r\n            return null;\r\n        }\r\n    };\r\n}\r\n\r\nexport function postCampaign(data) {\r\n    return async function postCampaignThunk(_dispatch, getState) {\r\n        try {\r\n            await apiService(getState())\r\n                .post(basePath, data)\r\n                .then((response) => response?.data);\r\n            return true;\r\n        } catch (ex) {\r\n            console.error('Error Post Campaign: ', ex.message);\r\n            throw ex;\r\n        }\r\n    };\r\n}\r\n","import { useEffect, useState, useRef } from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { Formik } from 'formik';\r\nimport {\r\n    Box,\r\n    Button,\r\n    Checkbox,\r\n    FormControlLabel,\r\n    FormHelperText,\r\n    Grid,\r\n    TextField,\r\n    Typography,\r\n    useMediaQuery,\r\n    Tab,\r\n    FormControl,\r\n    Divider\r\n} from '@mui/material';\r\nimport TabContext from '@mui/lab/TabContext';\r\nimport TabList from '@mui/lab/TabList';\r\nimport TabPanel from '@mui/lab/TabPanel';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport AnimateButton from '../../../ui-component/extended/AnimateButton';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useScriptRef from '../../../hooks/useScriptRef';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { formatDate, ISODateFormat } from '../../../utils/utility';\r\nimport { get } from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport { loadAsyncImages } from '../../utilities/ImageUtil';\r\nimport { setMessage } from 'store/reducers/dialogReducer';\r\nimport ImagePanelUpload from '../../../ui-component/images/ImagePanelUpload';\r\nimport { postCampaign } from 'services/campaignService';\r\nimport TextEditorRender from '../../utilities/TextEditorRender';\r\n\r\nfunction Manager() {\r\n    const theme = useTheme();\r\n    const scriptedRef = useScriptRef();\r\n    const editorRef = useRef(null);\r\n\r\n    const matchDownSM = useMediaQuery(theme.breakpoints.down('md'));\r\n    const dispatch = useDispatch();\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const campaign = useSelector((state) => state.campaign);\r\n    const { items } = campaign;\r\n\r\n    const [currentCampaign, setCurrentCampaign] = useState({});\r\n    const [tab, setTab] = useState('1');\r\n    const [checked, setChecked] = useState(false);\r\n    const [images, setImages] = useState([]);\r\n    const [textEditor, setTextEditor] = useState('');\r\n    const [errors, setErrors] = useState(null);\r\n\r\n    const handleChange = (_event, newValue) => {\r\n        setTab(newValue);\r\n    };\r\n\r\n    function setImagesDownload(imageToSet) {\r\n        setImages((oldValue) => oldValue.concat(imageToSet));\r\n    }\r\n    async function downloadImages(multimedias) {\r\n        await loadAsyncImages(multimedias, setImagesDownload);\r\n    }\r\n\r\n    useEffect(() => {\r\n        const code = location.state?.code;\r\n        if (code != null) {\r\n            const result = items.find((item) => item.code === code);\r\n            if (result != null) {\r\n                const multimedias = [{ linkMedia: result.linkImageEmphasis }];\r\n                setChecked(result.active);\r\n                const newState = { ...currentCampaign, ...result, multimedias };\r\n                setCurrentCampaign(newState);\r\n                downloadImages(multimedias).catch();\r\n            }\r\n        }\r\n    }, [items]);\r\n\r\n    function loadBody(editor) {\r\n        editorRef.current = editor;\r\n        if (!['', null].includes(textEditor)) {\r\n            return;\r\n        }\r\n        if (currentCampaign && currentCampaign?.linkHtml && currentCampaign?.linkHtml.startsWith('http')) {\r\n            get(currentCampaign?.linkHtml)\r\n                .then((response) => {\r\n                    setTextEditor(response.data);\r\n                })\r\n                .catch((error) => console.error(`Error download html from campaign ${error.message}`));\r\n        }\r\n    }\r\n\r\n    function setValue(key, value) {\r\n        setCurrentCampaign({ ...currentCampaign, [key]: value });\r\n    }\r\n\r\n    async function handleValidate() {\r\n        const keysValidate = ['title', 'startDate', 'resume'];\r\n        setErrors(null);\r\n        const error = {};\r\n        let result = true;\r\n        // eslint-disable-next-line array-callback-return\r\n        keysValidate.map((key) => {\r\n            if (['', null].includes(currentCampaign[key])) {\r\n                error[key] = 'Preenchimento obrigatório';\r\n                setErrors({ ...error });\r\n                dispatch(setMessage({ message: 'Os campos marcados com ( * ) são de preenchimento obrigatórios' }));\r\n                result = false;\r\n            }\r\n        });\r\n        if (result === false) {\r\n            return false;\r\n        }\r\n\r\n        if (images.length === 0) {\r\n            result = false;\r\n            dispatch(setMessage({ message: 'É obrigatório adicionar uma imagem!' }));\r\n            return result;\r\n        }\r\n        if (textEditor.replace(/(<([^>]+)>)/g, '').trim().length === 0) {\r\n            result = false;\r\n            dispatch(setMessage({ message: 'É obrigatório adicionar uma descrição para a campanha!' }));\r\n            return result;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    const handlePostData = async () => {\r\n        let postData = currentCampaign;\r\n        if (editorRef.current) {\r\n            postData = { ...postData, linkHtml: editorRef.current.getContent() };\r\n        }\r\n        const imagesPost = [];\r\n        images.map((item) => imagesPost.push(item.dataUrl));\r\n        postData = {\r\n            ...postData,\r\n            active: checked,\r\n            images: imagesPost\r\n        };\r\n        const code = location.state?.code;\r\n        try {\r\n            await dispatch(postCampaign(postData));\r\n            const action = [{ title: 'Ok', actionButton: navigate('/campaign'), closeDialog: true }];\r\n            dispatch(setMessage({ message: `Registro ${code ? 'editado' : 'inserido'} com sucesso!`, buttons: action }));\r\n        } catch (ex) {\r\n            dispatch(setMessage({ message: `Erro ao ${code ? 'editar' : 'inserir'} o registro` }));\r\n            console.error('Error Post Campaign', ex.message);\r\n        }\r\n    };\r\n\r\n    function renderImageUpload() {\r\n        return <ImagePanelUpload images={images} onChange={(list) => setImages(list)} maxNumber={1} multiple={false} />;\r\n    }\r\n\r\n    function renderForm() {\r\n        return (\r\n            <>\r\n                <Formik\r\n                    initialValues={{ currentCampaign }}\r\n                    onSubmit={async (_values, { _, setStatus, setSubmitting }) => {\r\n                        try {\r\n                            if (scriptedRef.current) {\r\n                                if (await handleValidate()) {\r\n                                    await handlePostData();\r\n                                    setStatus({ success: true });\r\n                                    setSubmitting(false);\r\n                                }\r\n                            }\r\n                        } catch (err) {\r\n                            if (scriptedRef.current) {\r\n                                setStatus({ success: false });\r\n                                setSubmitting(false);\r\n                                dispatch(setMessage({ message: err.message }));\r\n                            }\r\n                        }\r\n                    }}\r\n                >\r\n                    {({ handleSubmit, isSubmitting }) => (\r\n                        <form noValidate onSubmit={handleSubmit}>\r\n                            <Grid container alignItems=\"center\">\r\n                                <Grid item xs={12} sm={2}>\r\n                                    <FormControlLabel\r\n                                        control={\r\n                                            <Checkbox\r\n                                                checked={checked}\r\n                                                onChange={(event) => setChecked(event.target.checked)}\r\n                                                name=\"checked\"\r\n                                                color=\"primary\"\r\n                                            />\r\n                                        }\r\n                                        label={<Typography variant=\"subtitle1\">Ativa</Typography>}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                            {/* ========================================= */}\r\n                            <Grid container spacing={matchDownSM ? 0 : 2}>\r\n                                <Grid item xs={12} sm={6}>\r\n                                    <FormControl fullWidth error={Boolean(errors && errors.title)} sx={{ ...theme.typography.customInput }}>\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            required\r\n                                            inputProps={{ maxLength: 30 }}\r\n                                            label=\"Título\"\r\n                                            margin=\"normal\"\r\n                                            name=\"title\"\r\n                                            type=\"text\"\r\n                                            value={currentCampaign?.title}\r\n                                            onChange={(e) => setValue('title', e.target.value)}\r\n                                            sx={{ ...theme.typography.customInput }}\r\n                                        />\r\n                                        {errors && errors.title && (\r\n                                            <FormHelperText error id=\"standard-weight-helper-text-email-login\">\r\n                                                {errors.title}\r\n                                            </FormHelperText>\r\n                                        )}\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3}>\r\n                                    <FormControl\r\n                                        fullWidth\r\n                                        error={Boolean(errors && errors.startDate)}\r\n                                        sx={{ ...theme.typography.customInput }}\r\n                                    >\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            required\r\n                                            label=\"Início\"\r\n                                            margin=\"normal\"\r\n                                            name=\"startDate\"\r\n                                            type=\"date\"\r\n                                            value={formatDate(ISODateFormat(currentCampaign?.startDate))}\r\n                                            onChange={(e) => setValue('startDate', e.target.value)}\r\n                                            sx={{ ...theme.typography.customInput }}\r\n                                        />\r\n                                        {errors && errors.startDate && (\r\n                                            <FormHelperText error id=\"standard-weight-helper-text-email-login\">\r\n                                                {errors.startDate}\r\n                                            </FormHelperText>\r\n                                        )}\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3}>\r\n                                    <FormControl\r\n                                        fullWidth\r\n                                        error={Boolean(errors && errors.endDate)}\r\n                                        sx={{ ...theme.typography.customInput }}\r\n                                    >\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            required\r\n                                            label=\"Fim\"\r\n                                            margin=\"normal\"\r\n                                            name=\"endDate\"\r\n                                            type=\"date\"\r\n                                            value={formatDate(ISODateFormat(currentCampaign?.endDate))}\r\n                                            onChange={(e) => setValue('endDate', e.target.value)}\r\n                                            sx={{ ...theme.typography.customInput }}\r\n                                        />\r\n                                        {errors && errors.endDate && (\r\n                                            <FormHelperText error id=\"standard-weight-helper-text-email-login\">\r\n                                                {errors.endDate}\r\n                                            </FormHelperText>\r\n                                        )}\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid container spacing={matchDownSM ? 0 : 2}>\r\n                                <Grid item xs={12} sm={12}>\r\n                                    <FormControl\r\n                                        fullWidth\r\n                                        error={Boolean(errors && errors.resume)}\r\n                                        sx={{ ...theme.typography.customInput }}\r\n                                    >\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            required\r\n                                            label=\"Resumo\"\r\n                                            margin=\"normal\"\r\n                                            name=\"resume\"\r\n                                            type=\"text\"\r\n                                            value={currentCampaign?.resume}\r\n                                            onChange={(e) => setValue('resume', e.target.value)}\r\n                                            inputProps={{ maxLength: 100 }}\r\n                                            sx={{ ...theme.typography.customInput }}\r\n                                        />\r\n                                        {errors && errors.resume && (\r\n                                            <FormHelperText error id=\"standard-weight-helper-text-email-login\">\r\n                                                {errors.resume}\r\n                                            </FormHelperText>\r\n                                        )}\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                            {/* ========================================= */}\r\n                            <Grid container spacing={matchDownSM ? 0 : 2}>\r\n                                <Grid item xs={12} sm={12}>\r\n                                    <TextEditorRender\r\n                                        textValue={textEditor}\r\n                                        loadBody={(editor) => loadBody(editor)}\r\n                                        setTextEditor={(value) => setTextEditor(value)}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid container spacing={matchDownSM ? 0 : 2} sx={{ mt: 2 }}>\r\n                                <Grid item xs={12} sm={12}>\r\n                                    <Divider sx={{ flexGrow: 1 }} orientation=\"horizontal\" />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} textAlign=\"center\" alignItems=\"center\" justifyContent=\"center\">\r\n                                    <strong>Imagem de capa</strong>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12}>\r\n                                    <Divider sx={{ flexGrow: 1 }} orientation=\"horizontal\" />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} textAlign=\"center\" alignItems=\"center\" justifyContent=\"center\">\r\n                                    {renderImageUpload()}\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12}>\r\n                                    <Divider sx={{ flexGrow: 1 }} orientation=\"horizontal\" />\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Box sx={{ mt: 2 }}>\r\n                                <AnimateButton>\r\n                                    <Button\r\n                                        disableElevation\r\n                                        disabled={isSubmitting}\r\n                                        fullWidth\r\n                                        size=\"large\"\r\n                                        type=\"submit\"\r\n                                        variant=\"contained\"\r\n                                        color=\"secondary\"\r\n                                    >\r\n                                        Salvar\r\n                                    </Button>\r\n                                </AnimateButton>\r\n                            </Box>\r\n                        </form>\r\n                    )}\r\n                </Formik>\r\n            </>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Box xs={12} sm={12} sx={{ bgcolor: 'white', borderColor: 'divider' }}>\r\n            <TabContext value={tab}>\r\n                <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                    <TabList\r\n                        textColor=\"secondary\"\r\n                        indicatorColor=\"secondary\"\r\n                        onChange={handleChange}\r\n                        variant=\"scrollable\"\r\n                        scrollButtons=\"auto\"\r\n                        aria-label=\"Tabs Campaign\"\r\n                    >\r\n                        <Tab label=\"Detalhes\" value=\"1\" />\r\n                    </TabList>\r\n                </Box>\r\n                <TabPanel value=\"1\">\r\n                    <>\r\n                        <span>Os campos marcados com ( * ) são de preenchimento obrigatórios</span>\r\n                        <br />\r\n                        {renderForm()}\r\n                    </>\r\n                </TabPanel>\r\n            </TabContext>\r\n        </Box>\r\n    );\r\n}\r\n\r\nManager.propTypes = {\r\n    theme: PropTypes.shape({\r\n        typography: PropTypes.shape({\r\n            customInput: PropTypes.string\r\n        })\r\n    }),\r\n    currentCampaign: PropTypes.shape({\r\n        title: PropTypes.string.isRequired,\r\n        resume: PropTypes.string.isRequired,\r\n        startDate: PropTypes.string.isRequired,\r\n        endDate: PropTypes.string,\r\n        linkHtml: PropTypes.string.isRequired,\r\n        linkImageEmphasis: PropTypes.string,\r\n        multimedias: PropTypes.arrayOf(\r\n            PropTypes.shape({\r\n                imageBase64: PropTypes.string,\r\n                linkMedia: PropTypes.string\r\n            })\r\n        )\r\n    })\r\n};\r\n\r\nexport default Manager;\r\n"],"sourceRoot":""}