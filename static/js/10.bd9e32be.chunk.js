(this.webpackJsonpbackoffice=this.webpackJsonpbackoffice||[]).push([[10],{518:function(e,t,n){"use strict";var a=n(0);t.a=function(){var e=Object(a.useRef)(!0);return Object(a.useEffect)((function(){return function(){e.current=!1}}),[]),e}},524:function(e,t,n){"use strict";var a=n(9),r=n(13),s=n(470),i=n(485),o=n(487),c=n(488),l=n(245),u=n(112),d=n(542),f=n.n(d),h=n(20),p=n(0),m=n(510),j=n(80),b=n(79),v=n(544),O=n.n(v),g=n(543),x=n.n(g),k=n(1);function w(e){var t=e.images,n=e.onChange,d=e.maxNumber,v=void 0===d?8:d,g=e.multiple,w=void 0===g||g,C=e.title,S=void 0===C?null:C,y=e.titleButton,D=void 0===y?null:y,I=e.renderAvatar,E=void 0!==I&&I,M=e.altImage,P=void 0===M?null:M,V=e.positionButtonHeader,B=void 0===V||V,A=Object(h.a)(),F=Object(s.a)(A.breakpoints.down("md")),R=Object(p.useState)([]),L=Object(r.a)(R,2),N=L[0],U=L[1],W=Object(p.useState)(null),z=Object(r.a)(W,2),T=z[0],q=z[1],_=Object(p.useState)(null),X=Object(r.a)(_,2),Y=X[0],H=X[1];function J(e){U(e),n(e)}function Z(e,t,n){return Object(k.jsxs)("div",{className:"image-item__btn-wrapper",children:[Object(k.jsx)(m.a,{sx:{color:j.a[500]},onClick:function(){return t(e)},"aria-label":"Atualizar",children:Object(k.jsx)(x.a,{sx:{fontSize:26}})}),Object(k.jsx)(m.a,{sx:{color:b.a[500]},onClick:function(){return n(e)},"aria-label":"Remover",children:Object(k.jsx)(O.a,{sx:{fontSize:26}})})]})}function G(e,t,n){return E&&!w?Object(k.jsx)(i.a,{container:!0,justifyContent:"center",alignItems:"center",textAlign:"center",sx:{mb:4},children:Object(k.jsx)(i.a,{item:!0,xs:12,sm:12,children:Object(k.jsx)("div",{style:{margin:"auto",border:1,borderWidth:1},children:null!==e&&e.length>0?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(o.a,{alt:P,src:e[0].dataUrl,sx:{width:100,height:100,margin:"auto"}}),Z(0,t,n)]}):Object(k.jsx)(o.a,{alt:P,src:null,sx:{width:100,height:100,margin:"auto"}})})})}):Object(k.jsx)(i.a,{container:!0,direction:"row",marginTop:2,children:null!==e&&(null===e||void 0===e?void 0:e.map((function(e,a){return Object(k.jsxs)(i.a,{item:!0,xs:4,sm:4,textAlign:"center",children:[Object(k.jsx)("img",{src:e.dataUrl,alt:"",width:"300",height:"180"}),Z(a,t,n)]},"iamge_item_".concat(a))})))})}function K(e,t,n,r){return E&&r.length>0?null:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(i.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:F?0:2,children:Object(k.jsx)(i.a,{item:!0,textAlign:"center",alignItems:"center",justifyContent:"center",xs:12,sm:12,marginBottom:1,style:{paddingTop:0},children:Object(k.jsx)("span",{children:null==T?Object(k.jsxs)("span",{children:["Somente imagens no formato ",Object(k.jsx)("strong",{children:".jpg"})]}):Object(k.jsx)("span",{children:T})})})}),Object(k.jsxs)(i.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:F?0:2,children:[Object(k.jsx)(i.a,{item:!0,xs:12,sm:E&&!w?6:2,children:Object(k.jsx)(u.a,{children:Object(k.jsx)(c.a,Object(a.a)(Object(a.a)({fullWidth:!0,disabled:N.length===v,disableElevation:!0,size:"small",variant:"contained",color:"primary",onClick:e},n),{},{children:null==Y?Object(k.jsx)(k.Fragment,{children:"Importar"}):Object(k.jsx)(k.Fragment,{children:Y})}))})}),w&&Object(k.jsx)(i.a,{item:!0,xs:12,sm:2,children:Object(k.jsx)(u.a,{children:Object(k.jsx)(c.a,{fullWidth:!0,disableElevation:!0,size:"small",variant:"contained",color:"secondary",onClick:t,children:"Remover todas"})})}),Object(k.jsx)(i.a,{item:!0,xs:12,sm:12,children:Object(k.jsx)(l.a,{sx:{flexGrow:1},orientation:"horizontal"})})]})]})}return Object(p.useEffect)((function(){return q(S),H(D),U(t),function(){return U([])}}),[t]),Object(k.jsx)(f.a,{multiple:w,acceptType:["jpg"],value:N||[],onChange:function(e){return J(e)},maxNumber:v,dataURLKey:"dataUrl",children:function(e){var t=e.imageList,n=e.onImageUpload,a=e.onImageRemoveAll,r=e.onImageUpdate,s=e.onImageRemove,o=e.dragProps;return Object(k.jsxs)(i.a,{children:[B&&K(n,a,o,t),G(t,r,s),!B&&K(n,a,o,t)]})}})}w.defaultProps={maxNumber:8},t.a=w},525:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(39),r=n(58);function s(e){return i.apply(this,arguments)}function i(){return i=Object(r.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],null==t){e.next=4;break}return e.next=4,t.map(function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var r,s,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.linkMedia);case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.blob();case 7:s=e.sent,(i=new FileReader).onloadend=function(){n.push({dataUrl:i.result})},i.readAsDataURL(s);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error download image: ".concat(e.t0.message," - ").concat(t.linkMedia));case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function o(e,t){return c.apply(this,arguments)}function c(){return c=Object(r.a)(Object(a.a)().mark((function e(t,n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=3;break}return e.next=3,t.map(function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var r,s,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.linkMedia);case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.blob();case 7:s=e.sent,(i=new FileReader).onloadend=function(){null!=i.result&&n({dataUrl:i.result})},i.readAsDataURL(s);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error download async image: ".concat(e.t0.message," - ").concat(t.linkMedia));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},540:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f}));var a=n(39),r=n(58),s=n(113),i=n(123),o=n(74),c="/api/v1/person";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a.Customer,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var o=Object(r.a)(Object(a.a)().mark((function r(o,u){var d,f,h;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d=(d="&useCache=".concat(l)).concat("&profileId=".concat(e)),a.prev=2,f="".concat(c,"/filter?pageSize=").concat(n,"&page=").concat(t).concat(d),a.next=6,Object(s.a)(u()).get(f);case 6:return h=a.sent,a.next=9,o(Object(i.c)(h));case 9:return a.abrupt("return",h);case 12:return a.prev=12,a.t0=a.catch(2),console.error("Error Fetch Person",a.t0.message),a.abrupt("return",null);case 16:case"end":return a.stop()}}),r,null,[[2,12]])})));return function(e,t){return o.apply(this,arguments)}}()}function u(e){return function(){var t=Object(r.a)(Object(a.a)().mark((function t(n,r){var o,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o="".concat(c,"/CompleteData/").concat(e),t.next=4,Object(s.a)(r()).get(o);case 4:return l=t.sent,t.next=7,n(Object(i.e)(l));case 7:return t.abrupt("return",l);case 10:return t.prev=10,t.t0=t.catch(0),console.error("Error Fetch Person",t.t0.message),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()}function d(e){return function(){var t=Object(r.a)(Object(a.a)().mark((function t(n,r){var o;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.a)(r()).post(c,e);case 3:if(!(o=t.sent)){t.next=8;break}return t.next=7,n(Object(i.e)(o));case 7:return t.abrupt("return",!0);case 8:return t.abrupt("return",!1);case 11:throw t.prev=11,t.t0=t.catch(0),console.error("Error Update Detail Person: ",t.t0.message),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}function f(e){return function(){var t=Object(r.a)(Object(a.a)().mark((function t(n,r){var o,l,u;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o="".concat(c,"/updateImage"),t.next=4,Object(s.a)(r()).post(o,e);case 4:if(!(l=t.sent)){t.next=10;break}return u={code:e.personCode,photoUrl:l},t.next=9,n(Object(i.d)(u));case 9:return t.abrupt("return",!0);case 10:return t.abrupt("return",!1);case 13:throw t.prev=13,t.t0=t.catch(0),console.error("Error Upload Image Person: ",t.t0.message),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()}},562:function(e,t,n){e.exports=n(563)},563:function(e,t,n){"use strict";var a,r=(a=n(0))&&"object"==typeof a&&"default"in a?a.default:a,s=n(49);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var r=n[a],s=Object.getOwnPropertyDescriptor(t,r);s&&s.configurable&&void 0===e[r]&&Object.defineProperty(e,r,s)}}(e.prototype.constructor=e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=function(e,t,n,a,r,s,i,o){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,a,r,s,i,o],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}};function u(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var a=e.createTextRange();a.collapse(!0),a.moveStart("character",t),a.moveEnd("character",n-t),a.select()}}var d={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function f(e,t,n){var a="",r="",s=null,i=[];if(void 0===t&&(t="_"),null==n&&(n=d),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var o=!1;return e.split("").forEach((function(e){o=!o&&"\\"===e||(o||!n[e]?(i.push(a.length),a.length===i.length-1&&(r+=e)):s=a.length+1,a+=e,!1)})),{maskChar:t,formatChars:n,prefix:r,mask:a,lastEditablePosition:s,permanents:i}}function h(e,t){return-1!==e.permanents.indexOf(t)}function p(e,t,n){var a=e.mask,r=e.formatChars;if(!n)return!1;if(h(e,t))return a[t]===n;var s=r[a[t]];return new RegExp(s).test(n)}function m(e,t){return t.split("").every((function(t,n){return h(e,n)||!p(e,n,t)}))}function j(e,t){var n=e.maskChar,a=e.prefix;if(!n){for(;t.length>a.length&&h(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var r=a.length,s=t.length;s>=a.length;s--){var i=t[s];if(!h(e,s)&&p(e,s,i)){r=s+1;break}}return r}function b(e,t){return j(e,t)===e.mask.length}function v(e,t){var n=e.maskChar,a=e.mask,r=e.prefix;if(!n){for((t=O(e,"",t,0)).length<r.length&&(t=r);t.length<a.length&&h(e,t.length);)t+=a[t.length];return t}if(t)return O(e,v(e,""),t,0);for(var s=0;s<a.length;s++)h(e,s)?t+=a[s]:t+=n;return t}function O(e,t,n,a){var r=e.mask,s=e.maskChar,i=e.prefix,o=n.split(""),c=b(e,t);return!s&&a>t.length&&(t+=r.slice(t.length,a)),o.every((function(n){for(;u=n,h(e,l=a)&&u!==r[l];){if(a>=t.length&&(t+=r[a]),o=n,s&&h(e,a)&&o===s)return!0;if(++a>=r.length)return!1}var o,l,u;return!p(e,a,n)&&n!==s||(a<t.length?t=s||c||a<i.length?t.slice(0,a)+n+t.slice(a+1):(t=t.slice(0,a)+n+t.slice(a),v(e,t)):s||(t+=n),++a<r.length)})),t}function g(e,t){for(var n=e.mask,a=t;a<n.length;++a)if(!h(e,a))return a;return null}function x(e){return e||0===e?e+"":""}function k(e,t,n,a,r){var s=e.mask,i=e.prefix,o=e.lastEditablePosition,c=t,l="",u=0,d=0,f=Math.min(r.start,n.start);return n.end>r.start?d=(u=function(e,t,n,a){var r=e.mask,s=e.maskChar,i=n.split(""),o=a;return i.every((function(t){for(;i=t,h(e,n=a)&&i!==r[n];)if(++a>=r.length)return!1;var n,i;return(p(e,a,t)||t===s)&&a++,a<r.length})),a-o}(e,0,l=c.slice(r.start,n.end),f))?r.length:0:c.length<a.length&&(d=a.length-c.length),c=a,d&&(1!==d||r.length||(f=r.start===n.start?g(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!h(e,n))return n;return null}(e,n.start)),c=function(e,t,n,a){var r=n+a,s=e.maskChar,i=e.mask,o=e.prefix,c=t.split("");if(s)return c.map((function(t,a){return a<n||r<=a?t:h(e,a)?i[a]:s})).join("");for(var l=r;l<c.length;l++)h(e,l)&&(c[l]="");return n=Math.max(o.length,n),c.splice(n,r-n),t=c.join(""),v(e,t)}(e,c,f,d)),c=O(e,c,l,f),(f+=u)>=s.length?f=s.length:f<i.length&&!u?f=i.length:f>=i.length&&f<o&&u&&(f=g(e,f)),l||(l=null),{value:c=v(e,c),enteredString:l,selection:{start:f,end:f}}}function w(e){return"function"==typeof e}function C(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function S(e){return(C()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function y(e){(C()||clearTimeout)(e)}var D=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=S(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(y(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=s.findDOMNode(c(c(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=j(n.maskOptions,n.value),t=g(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,a){void 0===a&&(a={});var r=n.getInputDOMNode(),s=n.isFocused();r&&s&&(a.deferred||u(r,e,t),null!==n.selectionDeferId&&y(n.selectionDeferId),n.selectionDeferId=S((function(){n.selectionDeferId=null,u(r,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var a=document.selection.createRange();a.parentElement()===e&&(t=-a.moveStart("character",-e.value.length),n=-a.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,a=e.maskChar,r=e.permanents,s=e.formatChars;return{mask:t,maskChar:a,permanents:r,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:s}},n.isInputAutofilled=function(e,t,a,r){var s=n.getInputDOMNode();try{if(s.matches(":-webkit-autofill"))return!0}catch(l){}return!n.focused||r.end<a.length&&t.end===e.length},n.onChange=function(e){var t=c(c(n)).beforePasteState,a=c(c(n)).previousSelection,r=n.props.beforeMaskedValueChange,s=n.getInputValue(),i=n.value,o=n.getSelection();n.isInputAutofilled(s,o,i,a)&&(i=v(n.maskOptions,""),a={start:0,end:0,length:0}),t&&(a=t.selection,i=t.value,o={start:a.start+s.length,end:a.start+s.length,length:0},s=i.slice(0,a.start)+s+i.slice(a.end),n.beforePasteState=null);var l=k(n.maskOptions,s,o,i,a),u=l.enteredString,d=l.selection,f=l.value;if(w(r)){var h=r({value:f,selection:d},{value:i,selection:a},u,n.getBeforeMaskedValueChangeConfig());f=h.value,d=h.selection}n.setInputValue(f),w(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(d.start,d.end,{deferred:!0}):n.setSelection(d.start,d.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,a=n.maskOptions,r=a.mask,s=a.prefix;if(n.focused=!0,n.mounted=!0,r){if(n.value)j(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var i=v(n.maskOptions,s),o=v(n.maskOptions,i),c=j(n.maskOptions,o),l=g(n.maskOptions,c),u={start:l,end:l};if(w(t)){var d=t({value:o,selection:u},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());o=d.value,u=d.selection}var f=o!==n.getInputValue();f&&n.setInputValue(o),f&&w(n.props.onChange)&&n.props.onChange(e),n.setSelection(u.start,u.end)}n.runSaveSelectionLoop()}w(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,a=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,a&&!n.props.alwaysShowMask&&m(n.maskOptions,n.value)){var r="";w(t)&&(r=t({value:r,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var s=r!==n.getInputValue();s&&n.setInputValue(r),s&&w(n.props.onChange)&&n.props.onChange(e)}w(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var a=Math.abs(t.clientX-n.mouseDownX),r=Math.abs(t.clientY-n.mouseDownY),s=Math.max(a,r),i=(new Date).getTime()-n.mouseDownTime;(s<=10&&i<=200||s<=5&&i<=300)&&n.setCursorToEnd()}}))}w(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){w(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&w(n.props.inputRef)&&n.props.inputRef(e)};var a=t.mask,r=t.maskChar,i=t.formatChars,o=t.alwaysShowMask,l=t.beforeMaskedValueChange,d=t.defaultValue,h=t.value;n.maskOptions=f(a,r,i),null==d&&(d=""),null==h&&(h=d);var p=x(h);if(n.maskOptions.mask&&(o||p)&&(p=v(n.maskOptions,p),w(l))){var b=t.value;null==t.value&&(b=d),p=l({value:p,selection:null},{value:b=x(b),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=p,n}o(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,a=t.alwaysShowMask,r=t.mask,s=t.maskChar,i=t.formatChars,o=this.maskOptions,c=a||this.isFocused(),l=null!=this.props.value,u=l?x(this.props.value):this.value,d=e?e.start:null;if(this.maskOptions=f(r,s,i),this.maskOptions.mask){!o.mask&&this.isFocused()&&this.runSaveSelectionLoop();var h=this.maskOptions.mask&&this.maskOptions.mask!==o.mask;if(o.mask||l||(u=this.getInputValue()),(h||this.maskOptions.mask&&(u||c))&&(u=v(this.maskOptions,u)),h){var p=j(this.maskOptions,u);(null===d||p<d)&&(d=b(this.maskOptions,u)?p:g(this.maskOptions,p))}!this.maskOptions.mask||!m(this.maskOptions,u)||c||l&&this.props.value||(u="");var O={start:d,end:d};if(w(n)){var k=n({value:u,selection:O},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());u=k.value,O=k.selection}this.value=u;var C=this.getInputValue()!==this.value;C?(this.setInputValue(this.value),this.forceUpdate()):h&&this.forceUpdate();var S=!1;null!=O.start&&null!=O.end&&(S=!e||e.start!==O.start||e.end!==O.end),(S||C)&&this.setSelection(O.start,O.end)}else o.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&y(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),a=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){w(n)||l(!1);var s=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],o=i({},a);s.forEach((function(e){return delete o[e]})),e=n(o),s.filter((function(t){return null!=e.props[t]&&e.props[t]!==a[t]})).length&&l(!1)}else e=r.createElement("input",i({ref:this.handleRef},a));var c={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(a.disabled||a.readOnly||(c.onChange=this.onChange,c.onPaste=this.onPaste,c.onMouseDown=this.onMouseDown),null!=a.value&&(c.value=this.value)),e=r.cloneElement(e,c)},t}(r.Component);e.exports=D},663:function(e,t,n){"use strict";n.r(t);var a=n(39),r=n(3),s=n(9),i=n(58),o=n(13),c=n(0),l=n(492),u=n(675),d=n(465),f=n(648),h=n(662),p=n(664),m=n(19),j=n(21),b=n(540),v=n(111),O=n(16),g=n(526),x=n(245),k=n(503),w=n(417),C=n(511),S=n(633),y=n(488),D=n(485),I=n(500),E=n(71),M=n(151),P=n(524),V=n(246),B=n(1),A=function(e){var t=e.children,n=e.shadow;return Object(B.jsx)(V.a,{sx:{boxShadow:n},children:Object(B.jsx)(l.a,{sx:{display:"flex",bgcolor:"primary.light",color:"grey.800",marginLeft:2},children:Object(B.jsx)(l.a,{sx:{color:"inherit"},children:t})})})},F=n(112),R=n(562),L=n.n(R),N=n(73),U=n(518),W=n(74),z=n(167),T=n.n(z),q=n(525),_=n(12),X=n.n(_),Y=X.a.shape({code:X.a.string,name:X.a.string,phone:X.a.string,phoneSecondary:X.a.string,whatsapp:X.a.string,email:X.a.string,document:X.a.string,profileIds:X.a.array,receiptEmail:X.a.bool,receiptNotification:X.a.bool,multimedia:X.a.arrayOf(X.a.shape({linkMedia:X.a.string}))});function H(e,t,n){return function(){var r=Object(i.a)(Object(a.a)().mark((function r(i,o){var c,l;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(null),c={},l=!0,e.map((function(e){["",null].includes(t[e])&&(n(Object(s.a)({},c[e])),l=!1)})),l||i(Object(N.c)({message:"Os campos marcados com ( * ) s\xe3o de preenchimento obrigat\xf3rios"})),a.abrupt("return",l);case 6:case"end":return a.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}var J=function(e){var t=e.submitData,n=e.personCode,r=e.currentData,l=e.onChange,u=e.isSubmitting,d=Object(U.a)(),f=Object(j.b)(),h=Object(j.c)((function(e){return e.user.person.profileIds})),p=Object(c.useState)(h),m=Object(o.a)(p,2),v=m[0],V=(m[1],Object(c.useState)()),R=Object(o.a)(V,2),z=R[0],_=R[1],X=Object(c.useState)([]),Y=Object(o.a)(X,2),J=Y[0],Z=Y[1],G=Object(c.useState)([]),K=Object(o.a)(G,2),Q=K[0],$=K[1];function ee(e){Z((function(t){return t.concat(e)}))}function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(i.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["name","email","document","phone"],e.abrupt("return",f(H(t,r,(function(e){return _(e)}))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){if(null!=r){var e=r.multimedias;Object(q.b)(e,ee).catch()}}),[r,r.code]),Object(c.useEffect)((function(){if(null!=n){var e=(r||[]).profileIds;Object.entries(W.a).map((function(t){var n=Object(o.a)(t,2),a=(n[0],n[1]),r=Array.isArray(e)&&e.includes(a)||a===W.a.Customer,s=a===W.a.Customer||r&&(a===W.a.Master||a===W.a.Administrator)&&v.includes(a);if(a!==W.a.Master||v.includes(W.a.Master)){var i={label:Object(W.c)(a),value:a,checked:r,disabled:s};$((function(e){return[].concat(Object(O.a)(e),[i])}))}}))}return function(){return $([])}}),[n,r.code]);var ae=function(){var e=Object(i.a)(Object(a.a)().mark((function e(){var n,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r,i=[],Q.filter((function(e){return e.checked})).map((function(e){return i.push(e.value)})),n=Object(s.a)(Object(s.a)({},n),{},{profileIds:i}),t(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function re(){return(re=Object(i.a)(Object(a.a)().mark((function e(t){var r,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=n){e.next=4;break}return Z(t),e.abrupt("return");case 4:return r=[],(t||[]).length>0&&r.push(t[0].dataUrl),s={personCode:n,images:r},e.next=9,f(Object(b.d)(s));case 9:Z(t),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),f(Object(N.c)({message:"Erro: ".concat(e.t0.message)})),console.error("Error Post Data",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function se(){return Object(B.jsx)(P.a,{title:"Atualizar Foto de Perfil",titleButton:"Upload",images:J,onChange:function(e){return function(e){return re.apply(this,arguments)}(e)},maxNumber:1,multiple:!1,renderAvatar:!0,altImage:r.name,positionButtonHeader:!1})}function ie(){return Object(B.jsx)(D.a,{container:!0,children:Object(B.jsx)(D.a,{item:!0,xs:12,sm:12,children:Object(B.jsxs)(k.a,{sx:{mt:3,ml:3,mb:3},component:"fieldset",children:[Object(B.jsx)(E.a,{variant:"h4",gutterBottom:!0,children:"Permiss\xf5es"}),Object(B.jsx)(w.a,{"aria-label":"position",row:!0,children:Object(B.jsx)(D.a,{container:!0,spacing:2,direction:"row",justifyContent:"space-between",children:Q.map((function(e,t){return Object(B.jsx)(D.a,{item:!0,xs:12,sm:12,md:4,spacing:2,children:Object(B.jsx)(A,{shadow:"3",children:Object(B.jsx)(C.a,{control:Object(B.jsx)(S.a,{checked:e.checked,onChange:function(e){return function(e){var t=T()(Q,{value:parseInt(e.target.value,10)});t>=0&&(Q[t].checked=e.target.checked,$((function(){return Object(O.a)(Q)})))}(e)},value:e.value,disabled:e.disabled}),label:e.label},"ck_profile".concat(t))})},t)}))})})]})})})}return Object(B.jsx)(g.a,{initialValues:{currentData:r},onSubmit:function(){var e=Object(i.a)(Object(a.a)().mark((function e(t,n){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.setStatus,e.prev=1,!d.current){e.next=9;break}return e.next=5,te();case 5:if(!e.sent){e.next=9;break}return e.next=8,ae();case 8:r({success:!0});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),d.current&&(r({success:!1}),f(Object(N.c)({message:e.t0.message})));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit;return Object(B.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:t,children:Object(B.jsxs)(D.a,{container:!0,spacing:{sm:0,md:2},children:[Object(B.jsx)(D.a,{item:!0,xs:12,sm:3,children:Object(B.jsx)(M.a,{title:"Foto de Perfil",children:se()})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:9,children:Object(B.jsx)(M.a,{title:"Detalhes da Conta",children:Object(B.jsxs)(D.a,{container:!0,spacing:{sm:0,md:2},children:[Object(B.jsx)(D.a,{item:!0,xs:12,sm:12,children:Object(B.jsx)(I.a,{value:null===r||void 0===r?void 0:r.name,fullWidth:!0,required:!0,error:Boolean(z&&z.name),name:"name",label:"Nome",onChange:function(e){return l("name",e.target.value)},defaultValue:" "})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:7,children:Object(B.jsx)(I.a,{fullWidth:!0,label:"Email",margin:"normal",name:"email",type:"text",required:!0,error:Boolean(z&&z.email),value:null===r||void 0===r?void 0:r.email,onChange:function(e){return l("email",e.target.value)},defaultValue:" "})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:5,children:Object(B.jsx)(L.a,{mask:"999.999.999-99",value:null===r||void 0===r?void 0:r.document,maskChar:" ",onChange:function(e){return l("document",e.target.value)},InputProps:{readOnly:Boolean(null!=r.code)},defaultValue:" ",children:function(){return Object(B.jsx)(I.a,{fullWidth:!0,label:"Documento",margin:"normal",name:"document",defaultValue:" ",InputProps:{readOnly:Boolean(null!=r.code)}})}})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:4,children:Object(B.jsx)(L.a,{mask:"(99) 99999-9999",value:null===r||void 0===r?void 0:r.phone,disabled:!1,maskChar:" ",onChange:function(e){return l("phone",e.target.value)},defaultValue:" ",children:function(){return Object(B.jsx)(I.a,{fullWidth:!0,label:"Celular",margin:"normal",name:"phone"})}})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:4,children:Object(B.jsx)(L.a,{mask:"(99) 99999-9999",value:null===r||void 0===r?void 0:r.whatsapp,disabled:!1,maskChar:" ",onChange:function(e){return l("whatsapp",e.target.value)},defaultValue:" ",children:function(){return Object(B.jsx)(I.a,{fullWidth:!0,label:"WhatsApp",margin:"normal",name:"whatsapp",value:null===r||void 0===r?void 0:r.whatsapp,defaultValue:" "})}})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:4,children:Object(B.jsx)(L.a,{mask:"(99) 99999-9999",value:null===r||void 0===r?void 0:r.phoneSecondary,disabled:!1,maskChar:" ",onChange:function(e){return l("phoneSecondary",e.target.value)},defaultValue:" ",children:function(){return Object(B.jsx)(I.a,{fullWidth:!0,label:"Recado",margin:"normal",name:"phoneSecondary",value:null===r||void 0===r?void 0:r.phoneSecondary,defaultValue:" "})}})}),Object(B.jsx)(D.a,{item:!0,xs:12,children:Object(B.jsx)(x.a,{})}),Object(W.b)(v)&&ie(),Object(B.jsx)(D.a,{item:!0,xs:12,sm:3,children:Object(B.jsx)(F.a,{children:Object(B.jsx)(y.a,{disableElevation:!0,disabled:u,fullWidth:!0,size:"small",type:"submit",variant:"contained",color:"primary",children:"Salvar Detalhes"})})})]})})})]})})}})},Z=n(20),G=n(470);function K(e){var t=e.currentData,n=e.errors,a=e.onChange,r=Object(Z.a)(),s=Object(G.a)(r.breakpoints.down("md"));return Object(B.jsx)(l.a,{noValidate:!0,autoComplete:"off",children:Object(B.jsxs)(D.a,{container:!0,spacing:s?0:2,children:[Object(B.jsx)(D.a,{item:!0,xs:12,sm:9,children:Object(B.jsx)(M.a,{title:"Alterar Senha",children:Object(B.jsxs)(D.a,{container:!0,spacing:s?0:2,children:[Object(B.jsx)(D.a,{item:!0,xs:12,sm:12,children:Object(B.jsx)(I.a,{value:null===t||void 0===t?void 0:t.currentPassword,fullWidth:!0,required:!0,error:Boolean(n&&n.currentPassword),name:"currentPassword",label:"Senha Atual",onChange:function(e){return a("password",e.target.value)},defaultValue:" "})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(I.a,{value:null===t||void 0===t?void 0:t.password,fullWidth:!0,required:!0,error:Boolean(n&&n.password),name:"password",label:"Nova Senha",onChange:function(e){return a("password",e.target.value)},defaultValue:" "})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(I.a,{value:null===t||void 0===t?void 0:t.newPassword,fullWidth:!0,required:!0,error:Boolean(n&&n.newPassword),name:"newPassword",label:"Confirme a nova senha",onChange:function(e){return a("newPassword",e.target.value)},defaultValue:" "})})]})})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:3,children:Object(B.jsx)(M.a,{title:"Desativar Conta",children:Object(B.jsxs)(D.a,{container:!0,spacing:s?0:2,children:[Object(B.jsx)(D.a,{item:!0,xs:12,sm:12,children:Object(B.jsx)(E.a,{component:"span",variant:"h6",children:"Ao selecionar est\xe1 op\xe7\xe3o, o acesso aos recurso dos sistema seram desabilitados."})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:10,children:Object(B.jsx)(F.a,{children:Object(B.jsx)(y.a,{fullWidth:!0,disableElevation:!0,size:"small",variant:"outlined",color:"error",children:"Desativar Conta"})})})]})})})]})})}K.defaultProps={currentData:Y,currentPassword:X.a.string};var Q=K,$=n(495);var ee=function(e){var t=e.submitData,n=e.currentData,a=e.onChange,r=e.isSubmitting;function s(e){a(e.name,e.checked)}return Object(B.jsx)(l.a,{noValidate:!0,autoComplete:"off",children:Object(B.jsx)(D.a,{container:!0,spacing:{sm:0,md:2},children:Object(B.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(B.jsxs)(M.a,{darkTitle:!0,title:"Notifica\xe7\xf5es e Emails",children:[Object(B.jsxs)(D.a,{container:!0,sx:{mb:2},spacing:1,direction:"column",children:[Object(B.jsx)(D.a,{item:!0,children:Object(B.jsx)(E.a,{variant:"h4",gutterBottom:!0,children:"Eu gostaria de receber"})}),Object(B.jsxs)(D.a,{item:!0,container:!0,xs:12,sm:5,sx:{pt:0},alignItems:"center",children:[Object(B.jsx)(D.a,{item:!0,sx:{pt:1},sm:4,children:Object(B.jsx)(E.a,{variant:"subtitle1",children:"Emails"})}),Object(B.jsx)(D.a,{item:!0,children:Object(B.jsx)($.a,{checked:!!n&&n.receiptEmail,onChange:function(e){return s(e.target)},name:"receiptEmail",size:"small",inputProps:{"aria-label":"controlled"}})})]}),Object(B.jsxs)(D.a,{item:!0,container:!0,xs:12,sm:5,alignItems:"center",children:[Object(B.jsx)(D.a,{item:!0,sm:4,children:Object(B.jsx)(E.a,{variant:"subtitle1",children:"Notifica\xe7\xf5es"})}),Object(B.jsx)(D.a,{item:!0,children:Object(B.jsx)($.a,{checked:!!n&&n.receiptNotification,onChange:function(e){return s(e.target)},name:"receiptNotification",size:"small",inputProps:{"aria-label":"controlled"}})})]})]}),Object(B.jsx)(D.a,{item:!0,xs:12,sx:{mb:2},children:Object(B.jsx)(x.a,{})}),Object(B.jsx)(D.a,{item:!0,xs:12,sm:3,children:Object(B.jsx)(F.a,{children:Object(B.jsx)(y.a,{onClick:function(){return t(n)},disabled:r,disableElevation:!0,fullWidth:!0,size:"small",variant:"contained",color:"primary",children:"Salvar"})})})]})})})})};t.default=function(){var e=Object(j.b)(),t=Object(m.e)(),n=Object(j.c)((function(e){return e.person})).items,O=Object(c.useState)({multimedias:[]}),g=Object(o.a)(O,2),x=g[0],k=g[1],w=Object(c.useState)("1"),C=Object(o.a)(w,2),S=C[0],y=C[1],D=Object(c.useState)(null),I=Object(o.a)(D,2),E=I[0],M=I[1],P=Object(c.useState)(!1),V=Object(o.a)(P,2),A=V[0],F=V[1];function R(){return(R=Object(i.a)(Object(a.a)().mark((function n(){var r,s;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(s=null===(r=t.state)||void 0===r?void 0:r.code)){n.next=5;break}return n.next=4,e(Object(b.a)(s));case 4:M(s);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function L(e,t){k(Object(s.a)(Object(s.a)({},x),{},Object(r.a)({},e,t)))}Object(c.useEffect)((function(){return function(){return R.apply(this,arguments)}().catch(),function(){k({multimedias:[]})}}),[]),Object(c.useEffect)((function(){if(null!=E){var e=n.find((function(e){return e.code===E}));if(null!=e){var t=[{linkMedia:e.photoUrl}];k(Object(s.a)(Object(s.a)({},e),{},{multimedias:t}))}}}),[n]);var U=function(){var t=Object(i.a)(Object(a.a)().mark((function t(n){var r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,F((function(e){return!e})),t.next=4,e(Object(b.c)(n));case 4:r=[{title:"Ok",closeDialog:!0}],e(Object(N.c)({message:"Registro ".concat(E?"editado":"inserido"," com sucesso!"),buttons:r})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e(Object(N.c)({message:"Erro ao ".concat(E?"editar":"inserir"," o registro")})),console.error("Error Post Data",t.t0.message);case 12:return t.prev=12,F((function(e){return!e})),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,8,12,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(B.jsx)(v.a,{title:"Conta",children:Object(B.jsxs)(l.a,{xs:12,sm:12,sx:{bgcolor:"white",borderColor:"divider"},children:[Object(B.jsx)(d.a,{direction:"row",justifyContent:"center",alignItems:"center",spacing:0,children:Object(B.jsx)("span",{children:"Os campos marcados com ( * ) s\xe3o de preenchimento obrigat\xf3rios"})}),Object(B.jsxs)(f.a,{value:S,children:[Object(B.jsx)(l.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(B.jsxs)(h.a,{textColor:"secondary",indicatorColor:"secondary",onChange:function(e,t){y(t)},variant:"scrollable",scrollButtons:"auto","aria-label":"Tabs Data",children:[Object(B.jsx)(u.a,{label:"Detalhes",value:"1"}),Object(B.jsx)(u.a,{label:"Financeiro",value:"2"}),Object(B.jsx)(u.a,{label:"Parceria",value:"3"}),Object(B.jsx)(u.a,{label:"Notifica\xe7\xf5es",value:"4"}),Object(B.jsx)(u.a,{label:"Segura\xe7a",value:"5"})]})}),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(p.a,{value:"1",children:Object(B.jsx)(d.a,{children:Object(B.jsx)(J,{submitData:function(e){return U(e)},personCode:E,currentData:x,onChange:function(e,t){return L(e,t)},isSubmitting:A})})}),Object(B.jsx)(p.a,{value:"4",children:Object(B.jsx)(d.a,{children:Object(B.jsx)(ee,{submitData:function(e){return U(e)},currentData:x,onChange:function(e,t){return L(e,t)},isSubmitting:A})})}),Object(B.jsx)(p.a,{value:"5",children:Object(B.jsx)(d.a,{children:Object(B.jsx)(Q,{currentData:x,onChange:function(e,t){return L(e,t)}})})})]})]})]})})}}}]);
//# sourceMappingURL=10.bd9e32be.chunk.js.map