{"version":3,"sources":["views/utilities/TablePaginationActions.js","services/noticeService.js","views/pages/notice/List.js"],"names":["TablePaginationActions","props","theme","useTheme","count","page","rowsPerPage","onPageChange","sx","flexShrink","ml","onClick","event","disabled","direction","Math","ceil","max","basePath","fetchNoticeList","pageSize","useCache","dispatch","getState","moreFilter","url","apiService","get","response","setListNotice","console","error","message","postNotice","data","_dispatch","post","then","NoticeList","notice","useSelector","state","items","totalItems","totalPages","useDispatch","navigate","useNavigate","matchDownSM","useMediaQuery","breakpoints","down","React","setPage","useEffect","fetchData","catch","columns","id","label","minWidth","align","emptyRows","container","alignItems","justifyContent","spacing","item","mb","xs","md","cursor","disableElevation","fullWidth","size","variant","color","code","component","Paper","map","column","index","style","row","scope","fontWeight","title","active","height","colSpan","length","rowsPerPageOptions","SelectProps","inputProps","native","_event","newPage","ActionsComponent"],"mappings":"2GAAA,6GAsDeA,IA7Cf,SAAgCC,GAC5B,IAAMC,EAAQC,cACNC,EAA2CH,EAA3CG,MAAOC,EAAoCJ,EAApCI,KAAMC,EAA8BL,EAA9BK,YAAaC,EAAiBN,EAAjBM,aAkBlC,OACI,eAAC,IAAD,CAAKC,GAAI,CAAEC,WAAY,EAAGC,GAAI,KAA9B,UACI,cAAC,IAAD,CAAYC,QAlBe,SAACC,GAChCL,EAAaK,EAAO,IAiBiCC,SAAmB,IAATR,EAAY,aAAW,aAAlF,SACyB,QAApBH,EAAMY,UAAsB,cAAC,IAAD,IAAmB,cAAC,IAAD,MAEpD,cAAC,IAAD,CAAYH,QAjBU,SAACC,GAC3BL,EAAaK,EAAOP,EAAO,IAgBqBQ,SAAmB,IAATR,EAAY,aAAW,gBAA7E,SACyB,QAApBH,EAAMY,UAAsB,cAAC,IAAD,IAAyB,cAAC,IAAD,MAE1D,cAAC,IAAD,CAAYH,QAhBU,SAACC,GAC3BL,EAAaK,EAAOP,EAAO,IAeqBQ,SAAUR,GAAQU,KAAKC,KAAKZ,EAAQE,GAAe,EAAG,aAAW,YAA7G,SACyB,QAApBJ,EAAMY,UAAsB,cAAC,IAAD,IAAwB,cAAC,IAAD,MAEzD,cAAC,IAAD,CAAYH,QAfc,SAACC,GAC/BL,EAAaK,EAAOG,KAAKE,IAAI,EAAGF,KAAKC,KAAKZ,EAAQE,GAAe,KAcbO,SAAUR,GAAQU,KAAKC,KAAKZ,EAAQE,GAAe,EAAG,aAAW,YAAjH,SACyB,QAApBJ,EAAMY,UAAsB,cAAC,IAAD,IAAoB,cAAC,IAAD,W,2ICtC3DI,EAAW,iBAQV,SAASC,EAAT,GAAyE,IAAD,IAA7Cd,YAA6C,MAAtC,EAAsC,MAAnCe,gBAAmC,MAAxB,GAAwB,MAApBC,gBAAoB,SAC3E,wDAAO,WAAgCC,EAAUC,GAA1C,4FACGC,EADH,oBAC6BH,GAD7B,SAGOI,EAHP,UAGgBP,EAHhB,4BAG4CE,EAH5C,iBAG6Df,GAH7D,OAGoEmB,GAHpE,SAIwBE,YAAWH,KAAYI,IAAIF,GAJnD,cAIOG,EAJP,gBAKON,EAASO,YAAcD,IAL9B,gCAMQA,GANR,yCAQCE,QAAQC,MAAM,qBAAsB,KAAGC,SARxC,kBASQ,MATR,0DAAP,wDAcG,SAASC,EAAWC,GACvB,wDAAO,WAA+BC,EAAWZ,GAA1C,oGAEOG,YAAWH,KACZa,KAAKlB,EAAUgB,GACfG,MAAK,SAACT,GAAD,cAAcA,QAAd,IAAcA,OAAd,EAAcA,EAAUM,QAJnC,iCAKQ,GALR,sCAOCJ,QAAQC,MAAM,sBAAuB,KAAGC,SAPzC,8DAAP,0D,4QCmHWM,UArHf,WACI,IAAMpC,EAAQC,cACRoC,EAASC,aAAY,SAACC,GAAD,OAAWA,EAAMF,UACpCG,EAA4CH,EAA5CG,MAAOC,EAAqCJ,EAArCI,WAAYvB,EAAyBmB,EAAzBnB,SAAUwB,EAAeL,EAAfK,WAC/BtB,EAAWuB,cACXC,EAAWC,cACXC,EAAcC,YAAc/C,EAAMgD,YAAYC,KAAK,OACzD,EAAwBC,WAAe,GAAvC,mBAAO/C,EAAP,KAAagD,EAAb,KAPkB,sDAQlB,wGACU/B,EAASH,YAAgB,KADnC,4CARkB,sBAYlBmC,qBAAU,YAZQ,2CAadC,GAAYC,UACb,CAAClC,IAEJ,IAAMmC,EAAU,CACZ,CAAEC,GAAI,QAASC,MAAO,YAAUC,SAAU,IAAKC,MAAO,QACtD,CAAEH,GAAI,SAAUC,MAAO,QAASC,SAAU,IAAKC,MAAO,UACtD,CAAEH,GAAI,UAAWC,MAAO,cAASC,SAAU,IAAKC,MAAO,WAIrDC,EAAYnB,EAAa,GAAK5B,KAAKE,IAAI,GAAI,EAAI0B,GAAcvB,EAAWuB,GAAc,GAU5F,OACI,qCACI,cAAC,IAAD,CAAMoB,WAAS,EAACC,WAAW,MAAMxD,GAAI,CAAEyD,eAAgB,OAASC,QAASlB,EAAc,EAAI,EAA3F,SACI,cAAC,IAAD,CAAMmB,MAAI,EAAC3D,GAAI,CAAE4D,GAAI,GAAKC,GAAI,GAAIC,GAAI,EAAtC,SACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CACI9D,GAAI,CAAE,WAAY,CAAE+D,OAAQ,YAC5BC,kBAAgB,EAChBC,WAAS,EACTC,KAAK,QACLC,QAAQ,YACRC,MAAM,UACNjE,QAAS,kBAAMmC,EAAS,kBAAmB,CAAEL,MAAO,CAAEoC,KAAM,SAPhE,0BAehB,cAAC,IAAD,CAAgBC,UAAWC,IAA3B,SACI,eAAC,IAAD,CAAOvE,GAAI,CAAEoD,SAAU,KAAO,aAAW,0BAAzC,UACI,cAAC,IAAD,UACI,cAAC,IAAD,UACKH,EAAQuB,KAAI,SAACC,EAAQC,GAAT,OACT,cAAC,IAAD,CAAgDrB,MAAOoB,EAAOpB,MAAOsB,MAAO,CAAEvB,SAAUqB,EAAOrB,UAA/F,SACKqB,EAAOtB,OADZ,iBAA0BsB,EAAOvB,GAAjC,YAAuCwB,WAMnD,eAAC,IAAD,WACKxC,EAAMsC,KAAI,SAACI,GAAD,OACP,eAAC,IAAD,WACI,cAAC,IAAD,CAAWN,UAAU,KAAKO,MAAM,MAAMF,MAAO,CAAEG,WAAY,QAA3D,SACKF,EAAIG,QAET,cAAC,IAAD,CAAWT,UAAU,KAAKO,MAAM,MAAMxB,MAAM,SAA5C,SACKuB,EAAII,OAAS,MAAQ,WAE1B,cAAC,IAAD,CACIhF,GAAI,CAAE,WAAY,CAAE+D,OAAQ,YAC5BO,UAAU,KACVO,MAAM,MACN1E,QAAS,WAhDrCmC,EAAS,kBAAmB,CAAEL,MAAO,CAAEoC,KAgDeO,EAhDJP,SAiDtBhB,MAAM,SALV,SAOI,cAAC,IAAD,QAdOuB,EAAIG,UAmBtBzB,EAAY,GACT,cAAC,IAAD,CAAUqB,MAAO,CAAEM,OAAQ,GAAK3B,GAAhC,SACI,cAAC,IAAD,CAAW4B,QAAS,SAIhC,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CACIA,QAASjC,EAAQkC,OACjBvF,MAAOwC,EACPtC,YAAac,EACbf,KAAMA,EACNuF,mBAAoB,CAACxE,GACrByE,YAAa,CACTC,WAAY,CACR,aAAc,iBAElBC,QAAQ,GAEZxF,aAjFH,SAACyF,EAAQC,GAC9B5C,EAAQ4C,IAiFgBC,iBAAkB,SAACjG,GAAD,OAAW,cAAC,IAAD,CAAwBA,MAAOA","file":"static/js/18.0e0c1e2a.chunk.js","sourcesContent":["import { useTheme } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport LastPageIcon from '@mui/icons-material/LastPage';\r\nimport FirstPageIcon from '@mui/icons-material/FirstPage';\r\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\r\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction TablePaginationActions(props) {\r\n    const theme = useTheme();\r\n    const { count, page, rowsPerPage, onPageChange } = props;\r\n\r\n    const handleFirstPageButtonClick = (event) => {\r\n        onPageChange(event, 0);\r\n    };\r\n\r\n    const handleBackButtonClick = (event) => {\r\n        onPageChange(event, page - 1);\r\n    };\r\n\r\n    const handleNextButtonClick = (event) => {\r\n        onPageChange(event, page + 1);\r\n    };\r\n\r\n    const handleLastPageButtonClick = (event) => {\r\n        onPageChange(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n    };\r\n\r\n    return (\r\n        <Box sx={{ flexShrink: 0, ml: 2.5 }}>\r\n            <IconButton onClick={handleFirstPageButtonClick} disabled={page === 0} aria-label=\"first page\">\r\n                {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n            </IconButton>\r\n            <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\r\n                {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n            </IconButton>\r\n            <IconButton onClick={handleNextButtonClick} disabled={page >= Math.ceil(count / rowsPerPage) - 1} aria-label=\"next page\">\r\n                {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n            </IconButton>\r\n            <IconButton onClick={handleLastPageButtonClick} disabled={page >= Math.ceil(count / rowsPerPage) - 1} aria-label=\"last page\">\r\n                {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n            </IconButton>\r\n        </Box>\r\n    );\r\n}\r\n\r\nTablePaginationActions.propTypes = {\r\n    count: PropTypes.number,\r\n    onPageChange: PropTypes.func,\r\n    page: PropTypes.number,\r\n    rowsPerPage: PropTypes.number\r\n};\r\n\r\nexport default TablePaginationActions;\r\n","import apiService from './apiService';\r\nimport { setListNotice } from 'store/reducers/noticeReducer';\r\n\r\nconst basePath = '/api/v1/notice';\r\n\r\n/**\r\n * Fetch to notice data\r\n * @async\r\n * @function\r\n * @return {Promise<JSON>} Object campaign data\r\n */\r\nexport function fetchNoticeList({ page = 1, pageSize = 50, useCache = false }) {\r\n    return async function fetchNoticeThunk(dispatch, getState) {\r\n        const moreFilter = `&useCache=${useCache}`;\r\n        try {\r\n            const url = `${basePath}/filter?pageSize=${pageSize}&page=${page}${moreFilter}`;\r\n            const response = await apiService(getState()).get(url);\r\n            await dispatch(setListNotice(response));\r\n            return response;\r\n        } catch (ex) {\r\n            console.error('Error Fetch Notice', ex.message);\r\n            return null;\r\n        }\r\n    };\r\n}\r\n\r\nexport function postNotice(data) {\r\n    return async function postNoticeThunk(_dispatch, getState) {\r\n        try {\r\n            await apiService(getState())\r\n                .post(basePath, data)\r\n                .then((response) => response?.data);\r\n            return true;\r\n        } catch (ex) {\r\n            console.error('Error Post Notice: ', ex.message);\r\n            throw ex;\r\n        }\r\n    };\r\n}\r\n","import * as React from 'react';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport TableHead from '@mui/material/TableHead';\r\n\r\n// project imports\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button, useMediaQuery, Grid } from '@mui/material';\r\nimport AnimateButton from '../../../ui-component/extended/AnimateButton';\r\nimport TablePaginationActions from '../../utilities/TablePaginationActions';\r\nimport { fetchNoticeList } from 'services/noticeService';\r\n\r\n// ==============================|| NOTICE PAGE ||============================== //\r\n\r\nfunction NoticeList() {\r\n    const theme = useTheme();\r\n    const notice = useSelector((state) => state.notice);\r\n    const { items, totalItems, pageSize, totalPages } = notice;\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const matchDownSM = useMediaQuery(theme.breakpoints.down('md'));\r\n    const [page, setPage] = React.useState(0);\r\n    async function fetchData() {\r\n        await dispatch(fetchNoticeList({}));\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData().catch();\r\n    }, [dispatch]);\r\n\r\n    const columns = [\r\n        { id: 'title', label: 'Título', minWidth: 100, align: 'left' },\r\n        { id: 'active', label: 'Ativa', minWidth: 100, align: 'center' },\r\n        { id: 'actions', label: 'Ações', minWidth: 100, align: 'center' }\r\n    ];\r\n\r\n    // Avoid a layout jump when reaching the last page with empty rows.\r\n    const emptyRows = totalItems > 10 ? Math.max(0, (1 + totalItems) * pageSize - totalItems) : 10;\r\n\r\n    const handleChangePage = (_event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleEdit = (item) => {\r\n        navigate('/notice/manager', { state: { code: item.code } });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Grid container alignItems=\"end\" sx={{ justifyContent: 'end' }} spacing={matchDownSM ? 0 : 2}>\r\n                <Grid item sx={{ mb: 1 }} xs={12} md={2}>\r\n                    <Box>\r\n                        <AnimateButton>\r\n                            <Button\r\n                                sx={{ '& :hover': { cursor: 'pointer' } }}\r\n                                disableElevation\r\n                                fullWidth\r\n                                size=\"small\"\r\n                                variant=\"contained\"\r\n                                color=\"success\"\r\n                                onClick={() => navigate('/notice/manager', { state: { code: null } })}\r\n                            >\r\n                                Novo\r\n                            </Button>\r\n                        </AnimateButton>\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n            <TableContainer component={Paper}>\r\n                <Table sx={{ minWidth: 500 }} aria-label=\"custom pagination table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            {columns.map((column, index) => (\r\n                                <TableCell key={`notice_${column.id}_${index}`} align={column.align} style={{ minWidth: column.minWidth }}>\r\n                                    {column.label}\r\n                                </TableCell>\r\n                            ))}\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {items.map((row) => (\r\n                            <TableRow key={row.title}>\r\n                                <TableCell component=\"th\" scope=\"row\" style={{ fontWeight: 'bold' }}>\r\n                                    {row.title}\r\n                                </TableCell>\r\n                                <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n                                    {row.active ? 'SIM' : 'NÃO'}\r\n                                </TableCell>\r\n                                <TableCell\r\n                                    sx={{ '& :hover': { cursor: 'pointer' } }}\r\n                                    component=\"th\"\r\n                                    scope=\"row\"\r\n                                    onClick={() => handleEdit(row)}\r\n                                    align=\"center\"\r\n                                >\r\n                                    <EditIcon />\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n\r\n                        {emptyRows > 0 && (\r\n                            <TableRow style={{ height: 53 * emptyRows }}>\r\n                                <TableCell colSpan={6} />\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                        <TableRow>\r\n                            <TablePagination\r\n                                colSpan={columns.length}\r\n                                count={totalPages}\r\n                                rowsPerPage={pageSize}\r\n                                page={page}\r\n                                rowsPerPageOptions={[pageSize]}\r\n                                SelectProps={{\r\n                                    inputProps: {\r\n                                        'aria-label': 'rows per page'\r\n                                    },\r\n                                    native: true\r\n                                }}\r\n                                onPageChange={handleChangePage}\r\n                                ActionsComponent={(props) => <TablePaginationActions props={props} />}\r\n                            />\r\n                        </TableRow>\r\n                    </TableFooter>\r\n                </Table>\r\n            </TableContainer>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default NoticeList;\r\n"],"sourceRoot":""}